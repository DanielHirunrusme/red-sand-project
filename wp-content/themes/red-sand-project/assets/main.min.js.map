{"version":3,"sources":["../../node_modules/browser-pack/_prelude.js","../../node_modules/barba.js/dist/barba.js","../../node_modules/html5-history-api/history.js","../../node_modules/jquery-mousewheel/jquery.mousewheel.js","../../src/js/lib/init-modules.js","../../src/js/main.js","../../src/js/modules/barba.js","../../src/js/modules/body.js","../../src/js/modules/cart.js","../../src/js/modules/menu.js","../../src/js/modules/prints.js","../../src/js/modules/scrollContainers.js","../../src/js/modules/settings.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","Promise","window","Barba","version","BaseTransition","BaseView","BaseCache","Dispatcher","HistoryManager","Pjax","Prefetch","Utils","setImmediate","noop","bind","fn","thisArg","apply","arguments","TypeError","_state","_handled","_value","undefined","_deferreds","doResolve","handle","self","deferred","push","asap","cb","onFulfilled","onRejected","resolve","reject","promise","ret","e","newValue","then","finale","length","onUnhandledRejection","i","len","Handler","done","value","reason","ex","setTimeoutFunc","setTimeout","err","console","warn","prototype","prom","all","arr","args","Array","slice","res","val","remaining","constructor","race","values","_setImmediateFn","_setUnhandledRejectionFn","clearImmediate","Timeout","clearFn","_id","_clearFn","nextTick","Function","immediateIds","nextImmediateId","clearTimeout","setInterval","clearInterval","timeout","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","run","Item","fun","array","process","title","browser","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","Error","cwd","chdir","dir","umask","oldContainer","newContainer","newContainerLoading","extend","obj","init","_this","_newContainerPromise","newContainerReady","start","parentNode","removeChild","style","visibility","getCurrentUrl","location","protocol","host","pathname","search","cleanLink","url","replace","xhrTimeout","xhr","req","XMLHttpRequest","onreadystatechange","readyState","status","responseText","ontimeout","open","setRequestHeader","send","props","newObj","Object","create","prop","hasOwnProperty","getPort","port","parseInt","namespace","newStatus","oldStatus","onLeave","container","onEnter","onEnterCompleted","onLeaveCompleted","events","f","splice","indexOf","trigger","data","set","key","get","reset","history","add","currentStatus","prevStatus","HideShowTransition","Dom","History","Cache","cacheEnabled","transitionProgress","ignoreClassLink","getContainer","wrapper","getWrapper","setAttribute","getNamespace","bindEvents","document","addEventListener","onLinkClick","onStateChange","goTo","pushState","forceGoTo","load","parseResponse","putContainer","evt","el","target","href","preventCheck","stopPropagation","preventDefault","element","which","metaKey","ctrlKey","shiftKey","altKey","hostname","classList","contains","getTransition","newUrl","transition","transitionInstance","onNewContainerLoaded","onTransitionEnd","finish","body","scrollTop","dataNamespace","wrapperId","containerClass","createElement","innerHTML","titleEl","querySelector","textContent","getElementById","parseContainer","jquery","dataset","getAttribute","appendChild","onLinkEnter","requirejs","r","rndKey","Date","getTime","onError","toString","message","emptyFunction","parseURL","isWindowLocation","isNotAPI","re","windowLocation","isSupportHistoryAPI","settings","RegExp","current","base","getElementsByTagName","_pathname","_protocol","test","_host","_search","anchorElement","result","exec","hash","relative","nohash","_href","_hostname","_port","_hash","_relative","_nohash","_special","isSupportHistoryAPIDetect","ua","global","navigator","userAgent","historyPushState","storageInitialize","sessionStorage","setItem","sessionStorageKey","removeItem","_e_","getItem","cookie","split","pop","shift","state","historyObject","JSON","stringify","stateStorage","parse","addEvent","eventNamePrefix","redefineProperty","object","descriptor","onWrapped","testOnly","isDefinedSetter","isDefinedGetter","configurable","defineProperty","__defineGetter__","__defineSetter__","originalValue","removeEvent","onpopstate","triggerEventsInWindowAttributes","temp","getPrototypeOf","prepareDescriptorsForObject","locationDescriptors","event","listener","capture","eventsList","removeEventListener","list","dispatchEvent","eventObject","eventType","type","onhashchange","dispatch","firePopState","o","createEvent","createEventObject","initEvent","fireInitialState","isFireInitialState","changeState","lastURLValue","lastURL","isUsedHistoryLocationFlag","urlObject","isSupportStateObjectInHistory","onHashChange","fireNow","checkUrlForPopState","oldURLObject","newURLObject","oldURL","newURL","onLoad","noScroll","scrollToAnchorId","locationObject","anchorTarget","nodeName","onAnchorClick","srcElement","defaultPrevented","returnValue","expect","isEqualBaseURL","rect","getBoundingClientRect","scrollTo","documentElement","scrollLeft","top","clientTop","initialize","scripts","src","arg","a","eventsDescriptors","historyDescriptors","n","substr","addEventListenerName","customOrigin","windowHistory","historyReplaceState","replaceState","removeEventListenerName","dispatchEventName","basepath","redirect","lastTitle","fastFixChrome","method","isNeedFix","setup","path","t","assign","reload","flag","origin","jQuery","$","handler","orgEvent","delta","deltaX","deltaY","absDelta","offsetX","offsetY","fix","detail","wheelDelta","wheelDeltaY","wheelDeltaX","axis","HORIZONTAL_AXIS","deltaMode","lineHeight","pageHeight","Math","max","abs","lowestDelta","shouldAdjustOldDeltas","special","normalizeOffset","boundingRect","clientX","left","clientY","deltaFactor","unshift","nullLowestDeltaTimeout","nullLowestDelta","adjustOldDeltas","toFix","toBind","documentMode","fixHooks","mouseHooks","mousewheel","onmousewheel","getLineHeight","getPageHeight","teardown","removeData","elem","$elem","$parent","css","height","unmousewheel","unbind","initializeModules","querySelectorAll","Module","names","j","require","log","barbajs","barba","setBodyClass","initModules","FadeTransition","fadeOut","fadeIn","animate","opacity","$el","hide","page_class","last","removeClass","addClass","find","scrollContainers","cart","menu","$window","winResize","animOff","animOn","winResizeEnd","resizeTimer","toggleCart","toggleClass","hideCart","hasClass","HTMLhistory","currentArticle","isScrolling","homeLinkClick","menuLinkClick","leftPanelScroll","each","attr","page","setCurrentMenuItem","$targ","currentTarget","pageName","scrollListenMenus","$this","position","setPrints","setPrintContainers","winPrintsResize","closeClickPrint","printButtonOver","printButtonOut","printButtonClick","index","closest","eq","printContainerClick","printScroll","bgImage","width","initTarget","$leftScrollPanel","$rightScrollPanel","sizeRightContainers","setRightPanel","setLine","offsetParent","syncLeft","mouseWheel","syncRight","moveLine","$other","other","percent","scrollWidth","offsetWidth","scrollHeight","offsetHeight","$container","percentage","h","w","round","x","-webkit-transform","scrollHome","stop","$targL","st","mobileAndTabletcheck","check","vendor","opera","breakpoints","xs","s","ml","l","xl","xxl","padding","scrollContainer","animationSpeed","scrollPos","animating","unique","tier","isMobile","image"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Barba\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Barba\"] = factory();\n\telse\n\t\troot[\"Barba\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"http://localhost:8080/dist\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t//Promise polyfill https://github.com/taylorhakes/promise-polyfill\n\t\n\tif (typeof Promise !== 'function') {\n\t window.Promise = __webpack_require__(1);\n\t}\n\t\n\tvar Barba = {\n\t  version: '0.0.10',\n\t  BaseTransition: __webpack_require__(4),\n\t  BaseView: __webpack_require__(6),\n\t  BaseCache: __webpack_require__(8),\n\t  Dispatcher: __webpack_require__(7),\n\t  HistoryManager: __webpack_require__(9),\n\t  Pjax: __webpack_require__(10),\n\t  Prefetch: __webpack_require__(13),\n\t  Utils: __webpack_require__(5)\n\t};\n\t\n\tmodule.exports = Barba;\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(setImmediate) {(function (root) {\n\t\n\t  // Store setTimeout reference so promise-polyfill will be unaffected by\n\t  // other code modifying setTimeout (like sinon.useFakeTimers())\n\t  var setTimeoutFunc = setTimeout;\n\t\n\t  function noop() {\n\t  }\n\t\n\t  // Use polyfill for setImmediate for performance gains\n\t  var asap = (typeof setImmediate === 'function' && setImmediate) ||\n\t    function (fn) {\n\t      setTimeoutFunc(fn, 0);\n\t    };\n\t\n\t  var onUnhandledRejection = function onUnhandledRejection(err) {\n\t    if (typeof console !== 'undefined' && console) {\n\t      console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n\t    }\n\t  };\n\t\n\t  // Polyfill for Function.prototype.bind\n\t  function bind(fn, thisArg) {\n\t    return function () {\n\t      fn.apply(thisArg, arguments);\n\t    };\n\t  }\n\t\n\t  function Promise(fn) {\n\t    if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n\t    if (typeof fn !== 'function') throw new TypeError('not a function');\n\t    this._state = 0;\n\t    this._handled = false;\n\t    this._value = undefined;\n\t    this._deferreds = [];\n\t\n\t    doResolve(fn, this);\n\t  }\n\t\n\t  function handle(self, deferred) {\n\t    while (self._state === 3) {\n\t      self = self._value;\n\t    }\n\t    if (self._state === 0) {\n\t      self._deferreds.push(deferred);\n\t      return;\n\t    }\n\t    self._handled = true;\n\t    asap(function () {\n\t      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n\t      if (cb === null) {\n\t        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n\t        return;\n\t      }\n\t      var ret;\n\t      try {\n\t        ret = cb(self._value);\n\t      } catch (e) {\n\t        reject(deferred.promise, e);\n\t        return;\n\t      }\n\t      resolve(deferred.promise, ret);\n\t    });\n\t  }\n\t\n\t  function resolve(self, newValue) {\n\t    try {\n\t      // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n\t      if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');\n\t      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n\t        var then = newValue.then;\n\t        if (newValue instanceof Promise) {\n\t          self._state = 3;\n\t          self._value = newValue;\n\t          finale(self);\n\t          return;\n\t        } else if (typeof then === 'function') {\n\t          doResolve(bind(then, newValue), self);\n\t          return;\n\t        }\n\t      }\n\t      self._state = 1;\n\t      self._value = newValue;\n\t      finale(self);\n\t    } catch (e) {\n\t      reject(self, e);\n\t    }\n\t  }\n\t\n\t  function reject(self, newValue) {\n\t    self._state = 2;\n\t    self._value = newValue;\n\t    finale(self);\n\t  }\n\t\n\t  function finale(self) {\n\t    if (self._state === 2 && self._deferreds.length === 0) {\n\t      asap(function() {\n\t        if (!self._handled) {\n\t          onUnhandledRejection(self._value);\n\t        }\n\t      });\n\t    }\n\t\n\t    for (var i = 0, len = self._deferreds.length; i < len; i++) {\n\t      handle(self, self._deferreds[i]);\n\t    }\n\t    self._deferreds = null;\n\t  }\n\t\n\t  function Handler(onFulfilled, onRejected, promise) {\n\t    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n\t    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n\t    this.promise = promise;\n\t  }\n\t\n\t  /**\n\t   * Take a potentially misbehaving resolver function and make sure\n\t   * onFulfilled and onRejected are only called once.\n\t   *\n\t   * Makes no guarantees about asynchrony.\n\t   */\n\t  function doResolve(fn, self) {\n\t    var done = false;\n\t    try {\n\t      fn(function (value) {\n\t        if (done) return;\n\t        done = true;\n\t        resolve(self, value);\n\t      }, function (reason) {\n\t        if (done) return;\n\t        done = true;\n\t        reject(self, reason);\n\t      });\n\t    } catch (ex) {\n\t      if (done) return;\n\t      done = true;\n\t      reject(self, ex);\n\t    }\n\t  }\n\t\n\t  Promise.prototype['catch'] = function (onRejected) {\n\t    return this.then(null, onRejected);\n\t  };\n\t\n\t  Promise.prototype.then = function (onFulfilled, onRejected) {\n\t    var prom = new (this.constructor)(noop);\n\t\n\t    handle(this, new Handler(onFulfilled, onRejected, prom));\n\t    return prom;\n\t  };\n\t\n\t  Promise.all = function (arr) {\n\t    var args = Array.prototype.slice.call(arr);\n\t\n\t    return new Promise(function (resolve, reject) {\n\t      if (args.length === 0) return resolve([]);\n\t      var remaining = args.length;\n\t\n\t      function res(i, val) {\n\t        try {\n\t          if (val && (typeof val === 'object' || typeof val === 'function')) {\n\t            var then = val.then;\n\t            if (typeof then === 'function') {\n\t              then.call(val, function (val) {\n\t                res(i, val);\n\t              }, reject);\n\t              return;\n\t            }\n\t          }\n\t          args[i] = val;\n\t          if (--remaining === 0) {\n\t            resolve(args);\n\t          }\n\t        } catch (ex) {\n\t          reject(ex);\n\t        }\n\t      }\n\t\n\t      for (var i = 0; i < args.length; i++) {\n\t        res(i, args[i]);\n\t      }\n\t    });\n\t  };\n\t\n\t  Promise.resolve = function (value) {\n\t    if (value && typeof value === 'object' && value.constructor === Promise) {\n\t      return value;\n\t    }\n\t\n\t    return new Promise(function (resolve) {\n\t      resolve(value);\n\t    });\n\t  };\n\t\n\t  Promise.reject = function (value) {\n\t    return new Promise(function (resolve, reject) {\n\t      reject(value);\n\t    });\n\t  };\n\t\n\t  Promise.race = function (values) {\n\t    return new Promise(function (resolve, reject) {\n\t      for (var i = 0, len = values.length; i < len; i++) {\n\t        values[i].then(resolve, reject);\n\t      }\n\t    });\n\t  };\n\t\n\t  /**\n\t   * Set the immediate function to execute callbacks\n\t   * @param fn {function} Function to execute\n\t   * @private\n\t   */\n\t  Promise._setImmediateFn = function _setImmediateFn(fn) {\n\t    asap = fn;\n\t  };\n\t\n\t  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n\t    onUnhandledRejection = fn;\n\t  };\n\t\n\t  if (typeof module !== 'undefined' && module.exports) {\n\t    module.exports = Promise;\n\t  } else if (!root.Promise) {\n\t    root.Promise = Promise;\n\t  }\n\t\n\t})(this);\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2).setImmediate))\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(setImmediate, clearImmediate) {var nextTick = __webpack_require__(3).nextTick;\n\tvar apply = Function.prototype.apply;\n\tvar slice = Array.prototype.slice;\n\tvar immediateIds = {};\n\tvar nextImmediateId = 0;\n\t\n\t// DOM APIs, for completeness\n\t\n\texports.setTimeout = function() {\n\t  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n\t};\n\texports.setInterval = function() {\n\t  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n\t};\n\texports.clearTimeout =\n\texports.clearInterval = function(timeout) { timeout.close(); };\n\t\n\tfunction Timeout(id, clearFn) {\n\t  this._id = id;\n\t  this._clearFn = clearFn;\n\t}\n\tTimeout.prototype.unref = Timeout.prototype.ref = function() {};\n\tTimeout.prototype.close = function() {\n\t  this._clearFn.call(window, this._id);\n\t};\n\t\n\t// Does not start the time, just sets up the members needed.\n\texports.enroll = function(item, msecs) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = msecs;\n\t};\n\t\n\texports.unenroll = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = -1;\n\t};\n\t\n\texports._unrefActive = exports.active = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t\n\t  var msecs = item._idleTimeout;\n\t  if (msecs >= 0) {\n\t    item._idleTimeoutId = setTimeout(function onTimeout() {\n\t      if (item._onTimeout)\n\t        item._onTimeout();\n\t    }, msecs);\n\t  }\n\t};\n\t\n\t// That's not how node.js implements it but the exposed api is the same.\n\texports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n\t  var id = nextImmediateId++;\n\t  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\t\n\t  immediateIds[id] = true;\n\t\n\t  nextTick(function onNextTick() {\n\t    if (immediateIds[id]) {\n\t      // fn.call() is faster so we optimize for the common use-case\n\t      // @see http://jsperf.com/call-apply-segu\n\t      if (args) {\n\t        fn.apply(null, args);\n\t      } else {\n\t        fn.call(null);\n\t      }\n\t      // Prevent ids from leaking\n\t      exports.clearImmediate(id);\n\t    }\n\t  });\n\t\n\t  return id;\n\t};\n\t\n\texports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n\t  delete immediateIds[id];\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2).setImmediate, __webpack_require__(2).clearImmediate))\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t// shim for using process in browser\n\t\n\tvar process = module.exports = {};\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = setTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    clearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        setTimeout(drainQueue, 0);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Utils = __webpack_require__(5);\n\t\n\t/**\n\t * BaseTransition to extend\n\t *\n\t * @namespace Barba.BaseTransition\n\t * @type {Object}\n\t */\n\tvar BaseTransition = {\n\t  /**\n\t   * @memberOf Barba.BaseTransition\n\t   * @type {HTMLElement}\n\t   */\n\t  oldContainer: undefined,\n\t\n\t  /**\n\t   * @memberOf Barba.BaseTransition\n\t   * @type {HTMLElement}\n\t   */\n\t  newContainer: undefined,\n\t\n\t  /**\n\t   * @memberOf Barba.BaseTransition\n\t   * @type {Promise}\n\t   */\n\t  newContainerLoading: undefined,\n\t\n\t  /**\n\t   * Helper to extend the object\n\t   *\n\t   * @memberOf Barba.BaseTransition\n\t   * @param  {Object} newObject\n\t   * @return {Object} newInheritObject\n\t   */\n\t  extend: function(obj){\n\t    return Utils.extend(this, obj);\n\t  },\n\t\n\t  /**\n\t   * This function is called from Pjax module to initialize\n\t   * the transition.\n\t   *\n\t   * @memberOf Barba.BaseTransition\n\t   * @private\n\t   * @param  {HTMLElement} oldContainer\n\t   * @param  {Promise} newContainer\n\t   * @return {Promise}\n\t   */\n\t  init: function(oldContainer, newContainer) {\n\t    var _this = this;\n\t\n\t    this.oldContainer = oldContainer;\n\t    this._newContainerPromise = newContainer;\n\t\n\t    this.deferred = Utils.deferred();\n\t    this.newContainerReady = Utils.deferred();\n\t    this.newContainerLoading = this.newContainerReady.promise;\n\t\n\t    this.start();\n\t\n\t    this._newContainerPromise.then(function(newContainer) {\n\t      _this.newContainer = newContainer;\n\t      _this.newContainerReady.resolve();\n\t    });\n\t\n\t    return this.deferred.promise;\n\t  },\n\t\n\t  /**\n\t   * This function needs to be called as soon the Transition is finished\n\t   *\n\t   * @memberOf Barba.BaseTransition\n\t   */\n\t  done: function() {\n\t    this.oldContainer.parentNode.removeChild(this.oldContainer);\n\t    this.newContainer.style.visibility = 'visible';\n\t    this.deferred.resolve();\n\t  },\n\t\n\t  /**\n\t   * Constructor for your Transition\n\t   *\n\t   * @memberOf Barba.BaseTransition\n\t   * @abstract\n\t   */\n\t  start: function() {},\n\t};\n\t\n\tmodule.exports = BaseTransition;\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Just an object with some helpful functions\n\t *\n\t * @type {Object}\n\t * @namespace Barba.Utils\n\t */\n\tvar Utils = {\n\t  /**\n\t   * Return the current url\n\t   *\n\t   * @memberOf Barba.Utils\n\t   * @return {String} currentUrl\n\t   */\n\t  getCurrentUrl: function() {\n\t    return window.location.protocol + '//' +\n\t           window.location.host +\n\t           window.location.pathname +\n\t           window.location.search;\n\t  },\n\t\n\t  /**\n\t   * Given an url, return it without the hash\n\t   *\n\t   * @memberOf Barba.Utils\n\t   * @private\n\t   * @param  {String} url\n\t   * @return {String} newCleanUrl\n\t   */\n\t  cleanLink: function(url) {\n\t    return url.replace(/#.*/, '');\n\t  },\n\t\n\t  /**\n\t   * Time in millisecond after the xhr request goes in timeout\n\t   *\n\t   * @memberOf Barba.Utils\n\t   * @type {Number}\n\t   * @default\n\t   */\n\t  xhrTimeout: 5000,\n\t\n\t  /**\n\t   * Start an XMLHttpRequest() and return a Promise\n\t   *\n\t   * @memberOf Barba.Utils\n\t   * @param  {String} url\n\t   * @return {Promise}\n\t   */\n\t  xhr: function(url) {\n\t    var deferred = this.deferred();\n\t    var req = new XMLHttpRequest();\n\t\n\t    req.onreadystatechange = function() {\n\t      if (req.readyState === 4) {\n\t        if (req.status === 200) {\n\t          return deferred.resolve(req.responseText);\n\t        } else {\n\t          return deferred.reject(new Error('xhr: HTTP code is not 200'));\n\t        }\n\t      }\n\t    };\n\t\n\t    req.ontimeout = function() {\n\t      return deferred.reject(new Error('xhr: Timeout exceeded'));\n\t    };\n\t\n\t    req.open('GET', url);\n\t    req.timeout = this.xhrTimeout;\n\t    req.setRequestHeader('x-barba', 'yes');\n\t    req.send();\n\t\n\t    return deferred.promise;\n\t  },\n\t\n\t  /**\n\t   * Get obj and props and return a new object with the property merged\n\t   *\n\t   * @memberOf Barba.Utils\n\t   * @param  {object} obj\n\t   * @param  {object} props\n\t   * @return {object}\n\t   */\n\t  extend: function(obj, props) {\n\t    var newObj = Object.create(obj);\n\t\n\t    for(var prop in props) {\n\t      if(props.hasOwnProperty(prop)) {\n\t        newObj[prop] = props[prop];\n\t      }\n\t    }\n\t\n\t    return newObj;\n\t  },\n\t\n\t  /**\n\t   * Return a new \"Deferred\" object\n\t   * https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Promise.jsm/Deferred\n\t   *\n\t   * @memberOf Barba.Utils\n\t   * @return {Deferred}\n\t   */\n\t  deferred: function() {\n\t    return new function() {\n\t      this.resolve = null;\n\t      this.reject = null;\n\t\n\t      this.promise = new Promise(function(resolve, reject) {\n\t        this.resolve = resolve;\n\t        this.reject = reject;\n\t      }.bind(this));\n\t    };\n\t  },\n\t\n\t  /**\n\t   * Return the port number normalized, eventually you can pass a string to be normalized.\n\t   *\n\t   * @memberOf Barba.Utils\n\t   * @private\n\t   * @param  {String} p\n\t   * @return {Int} port\n\t   */\n\t  getPort: function(p) {\n\t    var port = typeof p !== 'undefined' ? p : window.location.port;\n\t    var protocol = window.location.protocol;\n\t\n\t    if (port != '')\n\t      return parseInt(port);\n\t\n\t    if (protocol === 'http:')\n\t      return 80;\n\t\n\t    if (protocol === 'https:')\n\t      return 443;\n\t  }\n\t};\n\t\n\tmodule.exports = Utils;\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Dispatcher = __webpack_require__(7);\n\tvar Utils = __webpack_require__(5);\n\t\n\t/**\n\t * BaseView to be extended\n\t *\n\t * @namespace Barba.BaseView\n\t * @type {Object}\n\t */\n\tvar BaseView  = {\n\t  /**\n\t   * Namespace of the view.\n\t   * (need to be associated with the data-namespace of the container)\n\t   *\n\t   * @memberOf Barba.BaseView\n\t   * @type {String}\n\t   */\n\t  namespace: null,\n\t\n\t  /**\n\t   * Helper to extend the object\n\t   *\n\t   * @memberOf Barba.BaseView\n\t   * @param  {Object} newObject\n\t   * @return {Object} newInheritObject\n\t   */\n\t  extend: function(obj){\n\t    return Utils.extend(this, obj);\n\t  },\n\t\n\t  /**\n\t   * Init the view.\n\t   * P.S. Is suggested to init the view before starting Barba.Pjax.start(),\n\t   * in this way .onEnter() and .onEnterCompleted() will be fired for the current\n\t   * container when the page is loaded.\n\t   *\n\t   * @memberOf Barba.BaseView\n\t   */\n\t  init: function() {\n\t    var _this = this;\n\t\n\t    Dispatcher.on('initStateChange',\n\t      function(newStatus, oldStatus) {\n\t        if (oldStatus && oldStatus.namespace === _this.namespace)\n\t          _this.onLeave();\n\t      }\n\t    );\n\t\n\t    Dispatcher.on('newPageReady',\n\t      function(newStatus, oldStatus, container) {\n\t        _this.container = container;\n\t\n\t        if (newStatus.namespace === _this.namespace)\n\t          _this.onEnter();\n\t      }\n\t    );\n\t\n\t    Dispatcher.on('transitionCompleted',\n\t      function(newStatus, oldStatus) {\n\t        if (newStatus.namespace === _this.namespace)\n\t          _this.onEnterCompleted();\n\t\n\t        if (oldStatus && oldStatus.namespace === _this.namespace)\n\t          _this.onLeaveCompleted();\n\t      }\n\t    );\n\t  },\n\t\n\t /**\n\t  * This function will be fired when the container\n\t  * is ready and attached to the DOM.\n\t  *\n\t  * @memberOf Barba.BaseView\n\t  * @abstract\n\t  */\n\t  onEnter: function() {},\n\t\n\t  /**\n\t   * This function will be fired when the transition\n\t   * to this container has just finished.\n\t   *\n\t   * @memberOf Barba.BaseView\n\t   * @abstract\n\t   */\n\t  onEnterCompleted: function() {},\n\t\n\t  /**\n\t   * This function will be fired when the transition\n\t   * to a new container has just started.\n\t   *\n\t   * @memberOf Barba.BaseView\n\t   * @abstract\n\t   */\n\t  onLeave: function() {},\n\t\n\t  /**\n\t   * This function will be fired when the container\n\t   * has just been removed from the DOM.\n\t   *\n\t   * @memberOf Barba.BaseView\n\t   * @abstract\n\t   */\n\t  onLeaveCompleted: function() {}\n\t}\n\t\n\tmodule.exports = BaseView;\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Little Dispatcher inspired by MicroEvent.js\n\t *\n\t * @namespace Barba.Dispatcher\n\t * @type {Object}\n\t */\n\tvar Dispatcher = {\n\t  /**\n\t   * Object that keeps all the events\n\t   *\n\t   * @memberOf Barba.Dispatcher\n\t   * @readOnly\n\t   * @type {Object}\n\t   */\n\t  events: {},\n\t\n\t  /**\n\t   * Bind a callback to an event\n\t   *\n\t   * @memberOf Barba.Dispatcher\n\t   * @param  {String} eventName\n\t   * @param  {Function} function\n\t   */\n\t  on: function(e, f) {\n\t    this.events[e] = this.events[e] || [];\n\t    this.events[e].push(f);\n\t  },\n\t\n\t  /**\n\t   * Unbind event\n\t   *\n\t   * @memberOf Barba.Dispatcher\n\t   * @param  {String} eventName\n\t   * @param  {Function} function\n\t   */\n\t  off: function(e, f) {\n\t    if(e in this.events === false)\n\t      return;\n\t\n\t    this.events[e].splice(this.events[e].indexOf(f), 1);\n\t  },\n\t\n\t  /**\n\t   * Fire the event running all the event associated to it\n\t   *\n\t   * @memberOf Barba.Dispatcher\n\t   * @param  {String} eventName\n\t   * @param  {...*} args\n\t   */\n\t  trigger: function(e) {//e, ...args\n\t    if (e in this.events === false)\n\t      return;\n\t\n\t    for(var i = 0; i < this.events[e].length; i++){\n\t      this.events[e][i].apply(this, Array.prototype.slice.call(arguments, 1));\n\t    }\n\t  }\n\t};\n\t\n\tmodule.exports = Dispatcher;\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Utils = __webpack_require__(5);\n\t\n\t/**\n\t * BaseCache it's a simple static cache\n\t *\n\t * @namespace Barba.BaseCache\n\t * @type {Object}\n\t */\n\tvar BaseCache = {\n\t  /**\n\t   * The Object that keeps all the key value information\n\t   *\n\t   * @memberOf Barba.BaseCache\n\t   * @type {Object}\n\t   */\n\t  data: {},\n\t\n\t  /**\n\t   * Helper to extend this object\n\t   *\n\t   * @memberOf Barba.BaseCache\n\t   * @private\n\t   * @param  {Object} newObject\n\t   * @return {Object} newInheritObject\n\t   */\n\t  extend: function(obj) {\n\t    return Utils.extend(this, obj);\n\t  },\n\t\n\t  /**\n\t   * Set a key and value data, mainly Barba is going to save promises\n\t   *\n\t   * @memberOf Barba.BaseCache\n\t   * @param {String} key\n\t   * @param {*} value\n\t   */\n\t  set: function(key, val) {\n\t    this.data[key] = val;\n\t  },\n\t\n\t  /**\n\t   * Retrieve the data using the key\n\t   *\n\t   * @memberOf Barba.BaseCache\n\t   * @param  {String} key\n\t   * @return {*}\n\t   */\n\t  get: function(key) {\n\t    return this.data[key];\n\t  },\n\t\n\t  /**\n\t   * Flush the cache\n\t   *\n\t   * @memberOf Barba.BaseCache\n\t   */\n\t  reset: function() {\n\t    this.data = {};\n\t  }\n\t};\n\t\n\tmodule.exports = BaseCache;\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t/**\n\t * HistoryManager helps to keep track of the navigation\n\t *\n\t * @namespace Barba.HistoryManager\n\t * @type {Object}\n\t */\n\tvar HistoryManager = {\n\t  /**\n\t   * Keep track of the status in historic order\n\t   *\n\t   * @memberOf Barba.HistoryManager\n\t   * @readOnly\n\t   * @type {Array}\n\t   */\n\t  history: [],\n\t\n\t  /**\n\t   * Add a new set of url and namespace\n\t   *\n\t   * @memberOf Barba.HistoryManager\n\t   * @param {String} url\n\t   * @param {String} namespace\n\t   * @private\n\t   */\n\t  add: function(url, namespace) {\n\t    if (!namespace)\n\t      namespace = undefined;\n\t\n\t    this.history.push({\n\t      url: url,\n\t      namespace: namespace\n\t    });\n\t  },\n\t\n\t  /**\n\t   * Return information about the current status\n\t   *\n\t   * @memberOf Barba.HistoryManager\n\t   * @return {Object}\n\t   */\n\t  currentStatus: function() {\n\t    return this.history[this.history.length - 1];\n\t  },\n\t\n\t  /**\n\t   * Return information about the previous status\n\t   *\n\t   * @memberOf Barba.HistoryManager\n\t   * @return {Object}\n\t   */\n\t  prevStatus: function() {\n\t    var history = this.history;\n\t\n\t    if (history.length < 2)\n\t      return null;\n\t\n\t    return history[history.length - 2];\n\t  }\n\t};\n\t\n\tmodule.exports = HistoryManager;\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Utils = __webpack_require__(5);\n\tvar Dispatcher = __webpack_require__(7);\n\tvar HideShowTransition = __webpack_require__(11);\n\tvar BaseCache = __webpack_require__(8);\n\t\n\tvar HistoryManager = __webpack_require__(9);\n\tvar Dom = __webpack_require__(12);\n\t\n\t/**\n\t * Pjax is a static object with main function\n\t *\n\t * @namespace Barba.Pjax\n\t * @borrows Dom as Dom\n\t * @type {Object}\n\t */\n\tvar Pjax = {\n\t  Dom: Dom,\n\t  History: HistoryManager,\n\t  Cache: BaseCache,\n\t\n\t  /**\n\t   * Indicate wether or not use the cache\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @type {Boolean}\n\t   * @default\n\t   */\n\t  cacheEnabled: true,\n\t\n\t  /**\n\t   * Indicate if there is an animation in progress\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @readOnly\n\t   * @type {Boolean}\n\t   */\n\t  transitionProgress: false,\n\t\n\t  /**\n\t   * Class name used to ignore links\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @type {String}\n\t   * @default\n\t   */\n\t  ignoreClassLink: 'no-barba',\n\t\n\t  /**\n\t   * Function to be called to start Pjax\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   */\n\t  start: function() {\n\t    this.init();\n\t  },\n\t\n\t  /**\n\t   * Init the events\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @private\n\t   */\n\t  init: function() {\n\t    var container = this.Dom.getContainer();\n\t    var wrapper = this.Dom.getWrapper();\n\t\n\t    wrapper.setAttribute('aria-live', 'polite');\n\t\n\t    this.History.add(\n\t      this.getCurrentUrl(),\n\t      this.Dom.getNamespace(container)\n\t    );\n\t\n\t    //Fire for the current view.\n\t    Dispatcher.trigger('initStateChange', this.History.currentStatus());\n\t    Dispatcher.trigger('newPageReady', this.History.currentStatus(), {}, container);\n\t    Dispatcher.trigger('transitionCompleted', this.History.currentStatus());\n\t\n\t    this.bindEvents();\n\t  },\n\t\n\t  /**\n\t   * Attach the eventlisteners\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @private\n\t   */\n\t  bindEvents: function() {\n\t    document.addEventListener('click',\n\t      this.onLinkClick.bind(this)\n\t    );\n\t\n\t    window.addEventListener('popstate',\n\t      this.onStateChange.bind(this)\n\t    );\n\t  },\n\t\n\t  /**\n\t   * Return the currentURL cleaned\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @return {String} currentUrl\n\t   */\n\t  getCurrentUrl: function() {\n\t    return Utils.cleanLink(\n\t      Utils.getCurrentUrl()\n\t    );\n\t  },\n\t\n\t  /**\n\t   * Change the URL with pushstate and trigger the state change\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @param {String} newUrl\n\t   */\n\t  goTo: function(url) {\n\t    window.history.pushState(null, null, url);\n\t    this.onStateChange();\n\t  },\n\t\n\t  /**\n\t   * Force the browser to go to a certain url\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @param {String} url\n\t   * @private\n\t   */\n\t  forceGoTo: function(url) {\n\t    window.location = url;\n\t  },\n\t\n\t  /**\n\t   * Load an url, will start an xhr request or load from the cache\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @private\n\t   * @param  {String} url\n\t   * @return {Promise}\n\t   */\n\t  load: function(url) {\n\t    var deferred = Utils.deferred();\n\t    var _this = this;\n\t    var xhr;\n\t\n\t    xhr = this.Cache.get(url);\n\t\n\t    if (!xhr) {\n\t      xhr = Utils.xhr(url);\n\t      this.Cache.set(url, xhr);\n\t    }\n\t\n\t    xhr.then(\n\t      function(data) {\n\t        var container = _this.Dom.parseResponse(data);\n\t\n\t        _this.Dom.putContainer(container);\n\t\n\t        if (!_this.cacheEnabled)\n\t          _this.Cache.reset();\n\t\n\t        deferred.resolve(container);\n\t      },\n\t      function() {\n\t        //Something went wrong (timeout, 404, 505...)\n\t        _this.forceGoTo(url);\n\t\n\t        deferred.reject();\n\t      }\n\t    );\n\t\n\t    return deferred.promise;\n\t  },\n\t\n\t  /**\n\t   * Callback called from click event\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @private\n\t   * @param {MouseEvent} evt\n\t   */\n\t  onLinkClick: function(evt) {\n\t    var el = evt.target;\n\t\n\t    //Go up in the nodelist until we\n\t    //find something with .href\n\t    while (el && !el.href) {\n\t      el = el.parentNode;\n\t    }\n\t\n\t    if (this.preventCheck(evt, el)) {\n\t      evt.stopPropagation();\n\t      evt.preventDefault();\n\t\n\t      Dispatcher.trigger('linkClicked', el);\n\t      this.goTo(el.href);\n\t    }\n\t  },\n\t\n\t  /**\n\t   * Determine if the link should be followed\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @param  {MouseEvent} evt\n\t   * @param  {HTMLElement} element\n\t   * @return {Boolean}\n\t   */\n\t  preventCheck: function(evt, element) {\n\t    if (!window.history.pushState)\n\t      return false;\n\t\n\t    //User\n\t    if (!element || !element.href)\n\t      return false;\n\t\n\t    //Middle click, cmd click, and ctrl click\n\t    if (evt.which > 1 || evt.metaKey || evt.ctrlKey || evt.shiftKey || evt.altKey)\n\t      return false;\n\t\n\t    //Ignore target with _blank target\n\t    if (element.target && element.target === '_blank')\n\t      return false;\n\t\n\t    //Check if it's the same domain\n\t    if (window.location.protocol !== element.protocol || window.location.hostname !== element.hostname)\n\t      return false;\n\t\n\t    //Check if the port is the same\n\t    if (Utils.getPort() !== Utils.getPort(element.port))\n\t      return false;\n\t\n\t    //Ignore case when a hash is being tacked on the current URL\n\t    if (element.href.indexOf('#') > -1)\n\t      return false;\n\t\n\t    //In case you're trying to load the same page\n\t    if (Utils.cleanLink(element.href) == Utils.cleanLink(location.href))\n\t      return false;\n\t\n\t    if (element.classList.contains(this.ignoreClassLink))\n\t      return false;\n\t\n\t    return true;\n\t  },\n\t\n\t  /**\n\t   * Return a transition object\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @return {Barba.Transition} Transition object\n\t   */\n\t  getTransition: function() {\n\t    //User customizable\n\t    return HideShowTransition;\n\t  },\n\t\n\t  /**\n\t   * Method called after a 'popstate' or from .goTo()\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @private\n\t   */\n\t  onStateChange: function() {\n\t    var newUrl = this.getCurrentUrl();\n\t\n\t    if (this.transitionProgress)\n\t      this.forceGoTo(newUrl);\n\t\n\t    if (this.History.currentStatus().url === newUrl)\n\t      return false;\n\t\n\t    this.History.add(newUrl);\n\t\n\t    var newContainer = this.load(newUrl);\n\t    var transition = Object.create(this.getTransition());\n\t\n\t    this.transitionProgress = true;\n\t\n\t    Dispatcher.trigger('initStateChange',\n\t      this.History.currentStatus(),\n\t      this.History.prevStatus()\n\t    );\n\t\n\t    var transitionInstance = transition.init(\n\t      this.Dom.getContainer(),\n\t      newContainer\n\t    );\n\t\n\t    newContainer.then(\n\t      this.onNewContainerLoaded.bind(this)\n\t    );\n\t\n\t    transitionInstance.then(\n\t      this.onTransitionEnd.bind(this)\n\t    );\n\t  },\n\t\n\t  /**\n\t   * Function called as soon the new container is ready\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @private\n\t   * @param {HTMLElement} container\n\t   */\n\t  onNewContainerLoaded: function(container) {\n\t    var currentStatus = this.History.currentStatus();\n\t    currentStatus.namespace = this.Dom.getNamespace(container);\n\t\n\t    Dispatcher.trigger('newPageReady',\n\t      this.History.currentStatus(),\n\t      this.History.prevStatus(),\n\t      container\n\t    );\n\t  },\n\t\n\t  /**\n\t   * Function called as soon the transition is finished\n\t   *\n\t   * @memberOf Barba.Pjax\n\t   * @private\n\t   */\n\t  onTransitionEnd: function() {\n\t    this.transitionProgress = false;\n\t\n\t    Dispatcher.trigger('transitionCompleted',\n\t      this.History.currentStatus(),\n\t      this.History.prevStatus()\n\t    );\n\t  }\n\t};\n\t\n\tmodule.exports = Pjax;\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar BaseTransition = __webpack_require__(4);\n\t\n\t/**\n\t * Basic Transition object, wait for the new Container to be ready,\n\t * scroll top, and finish the transition (removing the old container and displaying the new one)\n\t *\n\t * @private\n\t * @namespace Barba.HideShowTransition\n\t * @augments Barba.BaseTransition\n\t */\n\tvar HideShowTransition = BaseTransition.extend({\n\t  start: function() {\n\t    this.newContainerLoading.then(this.finish.bind(this));\n\t  },\n\t\n\t  finish: function() {\n\t    document.body.scrollTop = 0;\n\t    this.done();\n\t  }\n\t});\n\t\n\tmodule.exports = HideShowTransition;\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Object that is going to deal with DOM parsing/manipulation\n\t *\n\t * @namespace Barba.Pjax.Dom\n\t * @type {Object}\n\t */\n\tvar Dom = {\n\t  /**\n\t   * The name of the data attribute on the container\n\t   *\n\t   * @memberOf Barba.Pjax.Dom\n\t   * @type {String}\n\t   * @default\n\t   */\n\t  dataNamespace: 'namespace',\n\t\n\t  /**\n\t   * Id of the main wrapper\n\t   *\n\t   * @memberOf Barba.Pjax.Dom\n\t   * @type {String}\n\t   * @default\n\t   */\n\t  wrapperId: 'barba-wrapper',\n\t\n\t  /**\n\t   * Class name used to identify the containers\n\t   *\n\t   * @memberOf Barba.Pjax.Dom\n\t   * @type {String}\n\t   * @default\n\t   */\n\t  containerClass: 'barba-container',\n\t\n\t  /**\n\t   * Parse the responseText obtained from the xhr call\n\t   *\n\t   * @memberOf Barba.Pjax.Dom\n\t   * @private\n\t   * @param  {String} responseText\n\t   * @return {HTMLElement}\n\t   */\n\t  parseResponse: function(responseText) {\n\t    var wrapper = document.createElement('div');\n\t    wrapper.innerHTML = responseText;\n\t\n\t    var titleEl = wrapper.querySelector('title');\n\t\n\t    if (titleEl)\n\t      document.title = titleEl.textContent;\n\t\n\t    return this.getContainer(wrapper);\n\t  },\n\t\n\t  /**\n\t   * Get the main barba wrapper by the ID `wrapperId`\n\t   *\n\t   * @memberOf Barba.Pjax.Dom\n\t   * @return {HTMLElement} element\n\t   */\n\t  getWrapper: function() {\n\t    var wrapper = document.getElementById(this.wrapperId);\n\t\n\t    if (!wrapper)\n\t      throw new Error('Barba.js: wrapper not found!');\n\t\n\t    return wrapper;\n\t  },\n\t\n\t  /**\n\t   * Get the container on the current DOM,\n\t   * or from an HTMLElement passed via argument\n\t   *\n\t   * @memberOf Barba.Pjax.Dom\n\t   * @private\n\t   * @param  {HTMLElement} element\n\t   * @return {HTMLElement}\n\t   */\n\t  getContainer: function(element) {\n\t    if (!element)\n\t      element = document.body;\n\t\n\t    if (!element)\n\t      throw new Error('Barba.js: DOM not ready!');\n\t\n\t    var container = this.parseContainer(element);\n\t\n\t    if (container && container.jquery)\n\t      container = container[0];\n\t\n\t    if (!container)\n\t      throw new Error('Barba.js: no container found');\n\t\n\t    return container;\n\t  },\n\t\n\t  /**\n\t   * Get the namespace of the container\n\t   *\n\t   * @memberOf Barba.Pjax.Dom\n\t   * @private\n\t   * @param  {HTMLElement} element\n\t   * @return {String}\n\t   */\n\t  getNamespace: function(element) {\n\t    if (element && element.dataset) {\n\t      return element.dataset[this.dataNamespace];\n\t    } else if (element) {\n\t      return element.getAttribute('data-' + this.dataNamespace);\n\t    }\n\t\n\t    return null;\n\t  },\n\t\n\t  /**\n\t   * Put the container on the page\n\t   *\n\t   * @memberOf Barba.Pjax.Dom\n\t   * @private\n\t   * @param  {HTMLElement} element\n\t   */\n\t  putContainer: function(element) {\n\t    element.style.visibility = 'hidden';\n\t\n\t    var wrapper = this.getWrapper();\n\t    wrapper.appendChild(element);\n\t  },\n\t\n\t  /**\n\t   * Get container selector\n\t   *\n\t   * @memberOf Barba.Pjax.Dom\n\t   * @private\n\t   * @param  {HTMLElement} element\n\t   * @return {HTMLElement} element\n\t   */\n\t  parseContainer: function(element) {\n\t    return element.querySelector('.' + this.containerClass);\n\t  }\n\t};\n\t\n\tmodule.exports = Dom;\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Utils = __webpack_require__(5);\n\tvar Pjax = __webpack_require__(10);\n\t\n\t/**\n\t * Prefetch\n\t *\n\t * @namespace Barba.Prefetch\n\t * @type {Object}\n\t */\n\tvar Prefetch = {\n\t  /**\n\t   * Class name used to ignore prefetch on links\n\t   *\n\t   * @memberOf Barba.Prefetch\n\t   * @type {String}\n\t   * @default\n\t   */\n\t  ignoreClassLink: 'no-barba-prefetch',\n\t\n\t  /**\n\t   * Init the event listener on mouseover and touchstart\n\t   * for the prefetch\n\t   *\n\t   * @memberOf Barba.Prefetch\n\t   */\n\t  init: function() {\n\t    if (!window.history.pushState) {\n\t      return false;\n\t    }\n\t\n\t    document.body.addEventListener('mouseover', this.onLinkEnter.bind(this));\n\t    document.body.addEventListener('touchstart', this.onLinkEnter.bind(this));\n\t  },\n\t\n\t  /**\n\t   * Callback for the mousehover/touchstart\n\t   *\n\t   * @memberOf Barba.Prefetch\n\t   * @private\n\t   * @param  {Object} evt\n\t   */\n\t  onLinkEnter: function(evt) {\n\t    var el = evt.target;\n\t\n\t    while (el && !el.href) {\n\t      el = el.parentNode;\n\t    }\n\t\n\t    if (!el || el.classList.contains(this.ignoreClassLink)) {\n\t      return;\n\t    }\n\t\n\t    var url = el.href;\n\t\n\t    //Check if the link is elegible for Pjax\n\t    if (Pjax.preventCheck(evt, el) && !Pjax.Cache.get(url)) {\n\t      var xhr = Utils.xhr(url);\n\t      Pjax.Cache.set(url, xhr);\n\t    }\n\t  }\n\t};\n\t\n\tmodule.exports = Prefetch;\n\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=barba.js.map","/*!\n * History API JavaScript Library v4.2.8\n *\n * Support: IE8+, FF3+, Opera 9+, Safari, Chrome and other\n *\n * Copyright 2011-2017, Dmitrii Pakhtinov ( spb.piksel@gmail.com )\n *\n * http://spb-piksel.ru/\n *\n * MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n *\n * Update: 2017-03-01 12:07\n */\n(function(factory) {\n  if (typeof define === 'function' && define['amd']) {\n    if (typeof requirejs !== 'undefined') {\n      // https://github.com/devote/HTML5-History-API/issues/73\n      var r = requirejs,\n          rndKey = '[history' + (new Date()).getTime() + ']';\n      var onError = r['onError'];\n      factory.toString = function() {\n        return rndKey;\n      };\n      r['onError'] = function(err) {\n        if (err.message.indexOf(rndKey) === -1) {\n          onError.call(r, err);\n        }\n      };\n    }\n    define([], factory);\n  }\n  // commonJS support\n  if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n    module['exports'] = factory();\n  } else {\n    // execute anyway\n    return factory();\n  }\n})(function() {\n  // Define global variable\n  var global = (typeof window === 'object' ? window : this) || {};\n  // Prevent the code from running if there is no window.history object or library already loaded\n  if (!global.history || \"emulate\" in global.history) return global.history;\n  // symlink to document\n  var document = global.document;\n  // HTML element\n  var documentElement = document.documentElement;\n  // symlink to constructor of Object\n  var Object = global['Object'];\n  // symlink to JSON Object\n  var JSON = global['JSON'];\n  // symlink to instance object of 'Location'\n  var windowLocation = global.location;\n  // symlink to instance object of 'History'\n  var windowHistory = global.history;\n  // new instance of 'History'. The default is a reference to the original object instance\n  var historyObject = windowHistory;\n  // symlink to method 'history.pushState'\n  var historyPushState = windowHistory.pushState;\n  // symlink to method 'history.replaceState'\n  var historyReplaceState = windowHistory.replaceState;\n  // if the browser supports HTML5-History-API\n  var isSupportHistoryAPI = isSupportHistoryAPIDetect();\n  // verifies the presence of an object 'state' in interface 'History'\n  var isSupportStateObjectInHistory = 'state' in windowHistory;\n  // symlink to method 'Object.defineProperty'\n  var defineProperty = Object.defineProperty;\n  // new instance of 'Location', for IE8 will use the element HTMLAnchorElement, instead of pure object\n  var locationObject = redefineProperty({}, 't') ? {} : document.createElement('a');\n  // prefix for the names of events\n  var eventNamePrefix = '';\n  // String that will contain the name of the method\n  var addEventListenerName = global.addEventListener ? 'addEventListener' : (eventNamePrefix = 'on') && 'attachEvent';\n  // String that will contain the name of the method\n  var removeEventListenerName = global.removeEventListener ? 'removeEventListener' : 'detachEvent';\n  // String that will contain the name of the method\n  var dispatchEventName = global.dispatchEvent ? 'dispatchEvent' : 'fireEvent';\n  // reference native methods for the events\n  var addEvent = global[addEventListenerName];\n  var removeEvent = global[removeEventListenerName];\n  var dispatch = global[dispatchEventName];\n  // default settings\n  var settings = {\"basepath\": '/', \"redirect\": 0, \"type\": '/', \"init\": 0};\n  // key for the sessionStorage\n  var sessionStorageKey = '__historyAPI__';\n  // Anchor Element for parseURL function\n  var anchorElement = document.createElement('a');\n  // last URL before change to new URL\n  var lastURL = windowLocation.href;\n  // Control URL, need to fix the bug in Opera\n  var checkUrlForPopState = '';\n  // for fix on Safari 8\n  var triggerEventsInWindowAttributes = 1;\n  // trigger event 'onpopstate' on page load\n  var isFireInitialState = false;\n  // if used history.location of other code\n  var isUsedHistoryLocationFlag = 0;\n  // store a list of 'state' objects in the current session\n  var stateStorage = {};\n  // in this object will be stored custom handlers\n  var eventsList = {};\n  // stored last title\n  var lastTitle = document.title;\n  // store a custom origin\n  var customOrigin;\n\n  /**\n   * Properties that will be replaced in the global\n   * object 'window', to prevent conflicts\n   *\n   * @type {Object}\n   */\n  var eventsDescriptors = {\n    \"onhashchange\": null,\n    \"onpopstate\": null\n  };\n\n  /**\n   * Fix for Chrome in iOS\n   * See https://github.com/devote/HTML5-History-API/issues/29\n   */\n  var fastFixChrome = function(method, args) {\n    var isNeedFix = global.history !== windowHistory;\n    if (isNeedFix) {\n      global.history = windowHistory;\n    }\n    method.apply(windowHistory, args);\n    if (isNeedFix) {\n      global.history = historyObject;\n    }\n  };\n\n  /**\n   * Properties that will be replaced/added to object\n   * 'window.history', includes the object 'history.location',\n   * for a complete the work with the URL address\n   *\n   * @type {Object}\n   */\n  var historyDescriptors = {\n    /**\n     * Setting library initialization\n     *\n     * @param {null|String} [basepath] The base path to the site; defaults to the root \"/\".\n     * @param {null|String} [type] Substitute the string after the anchor; by default \"/\".\n     * @param {null|Boolean} [redirect] Enable link translation.\n     */\n    \"setup\": function(basepath, type, redirect) {\n      settings[\"basepath\"] = ('' + (basepath == null ? settings[\"basepath\"] : basepath))\n        .replace(/(?:^|\\/)[^\\/]*$/, '/');\n      settings[\"type\"] = type == null ? settings[\"type\"] : type;\n      settings[\"redirect\"] = redirect == null ? settings[\"redirect\"] : !!redirect;\n    },\n    /**\n     * @namespace history\n     * @param {String} [type]\n     * @param {String} [basepath]\n     */\n    \"redirect\": function(type, basepath) {\n      historyObject['setup'](basepath, type);\n      basepath = settings[\"basepath\"];\n      if (global.top == global.self) {\n        var relative = parseURL(null, false, true)._relative;\n        var path = windowLocation.pathname + windowLocation.search;\n        if (isSupportHistoryAPI) {\n          path = path.replace(/([^\\/])$/, '$1/');\n          if (relative != basepath && (new RegExp(\"^\" + basepath + \"$\", \"i\")).test(path)) {\n            windowLocation.replace(relative);\n          }\n        } else if (path != basepath) {\n          path = path.replace(/([^\\/])\\?/, '$1/?');\n          if ((new RegExp(\"^\" + basepath, \"i\")).test(path)) {\n            windowLocation.replace(basepath + '#' + path.\n              replace(new RegExp(\"^\" + basepath, \"i\"), settings[\"type\"]) + windowLocation.hash);\n          }\n        }\n      }\n    },\n    /**\n     * The method adds a state object entry\n     * to the history.\n     *\n     * @namespace history\n     * @param {Object} state\n     * @param {string} title\n     * @param {string} [url]\n     */\n    pushState: function(state, title, url) {\n      var t = document.title;\n      if (lastTitle != null) {\n        document.title = lastTitle;\n      }\n      historyPushState && fastFixChrome(historyPushState, arguments);\n      changeState(state, url);\n      document.title = t;\n      lastTitle = title;\n    },\n    /**\n     * The method updates the state object,\n     * title, and optionally the URL of the\n     * current entry in the history.\n     *\n     * @namespace history\n     * @param {Object} state\n     * @param {string} title\n     * @param {string} [url]\n     */\n    replaceState: function(state, title, url) {\n      var t = document.title;\n      if (lastTitle != null) {\n        document.title = lastTitle;\n      }\n      delete stateStorage[windowLocation.href];\n      historyReplaceState && fastFixChrome(historyReplaceState, arguments);\n      changeState(state, url, true);\n      document.title = t;\n      lastTitle = title;\n    },\n    /**\n     * Object 'history.location' is similar to the\n     * object 'window.location', except that in\n     * HTML4 browsers it will behave a bit differently\n     *\n     * @namespace history\n     */\n    \"location\": {\n      set: function(value) {\n        if (isUsedHistoryLocationFlag === 0) isUsedHistoryLocationFlag = 1;\n        global.location = value;\n      },\n      get: function() {\n        if (isUsedHistoryLocationFlag === 0) isUsedHistoryLocationFlag = 1;\n        return locationObject;\n      }\n    },\n    /**\n     * A state object is an object representing\n     * a user interface state.\n     *\n     * @namespace history\n     */\n    \"state\": {\n      get: function() {\n        if (typeof stateStorage[windowLocation.href] === 'object') {\n          return JSON.parse(JSON.stringify(stateStorage[windowLocation.href]));\n        } else if(typeof stateStorage[windowLocation.href] !== 'undefined') {\n          return stateStorage[windowLocation.href];\n        } else {\n          return null;\n        }\n      }\n    }\n  };\n\n  /**\n   * Properties for object 'history.location'.\n   * Object 'history.location' is similar to the\n   * object 'window.location', except that in\n   * HTML4 browsers it will behave a bit differently\n   *\n   * @type {Object}\n   */\n  var locationDescriptors = {\n    /**\n     * Navigates to the given page.\n     *\n     * @namespace history.location\n     */\n    assign: function(url) {\n      if (!isSupportHistoryAPI && ('' + url).indexOf('#') === 0) {\n        changeState(null, url);\n      } else {\n        windowLocation.assign(url);\n      }\n    },\n    /**\n     * Reloads the current page.\n     *\n     * @namespace history.location\n     */\n    reload: function(flag) {\n      windowLocation.reload(flag);\n    },\n    /**\n     * Removes the current page from\n     * the session history and navigates\n     * to the given page.\n     *\n     * @namespace history.location\n     */\n    replace: function(url) {\n      if (!isSupportHistoryAPI && ('' + url).indexOf('#') === 0) {\n        changeState(null, url, true);\n      } else {\n        windowLocation.replace(url);\n      }\n    },\n    /**\n     * Returns the current page's location.\n     *\n     * @namespace history.location\n     */\n    toString: function() {\n      return this.href;\n    },\n    /**\n     * Returns the current origin.\n     *\n     * @namespace history.location\n     */\n    \"origin\": {\n      get: function() {\n        if (customOrigin !== void 0) {\n          return customOrigin;\n        }\n        if (!windowLocation.origin) {\n          return windowLocation.protocol + \"//\" + windowLocation.hostname + (windowLocation.port ? ':' + windowLocation.port: '');\n        }\n        return windowLocation.origin;\n      },\n      set: function(value) {\n        customOrigin = value;\n      }\n    },\n    /**\n     * Returns the current page's location.\n     * Can be set, to navigate to another page.\n     *\n     * @namespace history.location\n     */\n    \"href\": isSupportHistoryAPI ? null : {\n      get: function() {\n        return parseURL()._href;\n      }\n    },\n    /**\n     * Returns the current page's protocol.\n     *\n     * @namespace history.location\n     */\n    \"protocol\": null,\n    /**\n     * Returns the current page's host and port number.\n     *\n     * @namespace history.location\n     */\n    \"host\": null,\n    /**\n     * Returns the current page's host.\n     *\n     * @namespace history.location\n     */\n    \"hostname\": null,\n    /**\n     * Returns the current page's port number.\n     *\n     * @namespace history.location\n     */\n    \"port\": null,\n    /**\n     * Returns the current page's path only.\n     *\n     * @namespace history.location\n     */\n    \"pathname\": isSupportHistoryAPI ? null : {\n      get: function() {\n        return parseURL()._pathname;\n      }\n    },\n    /**\n     * Returns the current page's search\n     * string, beginning with the character\n     * '?' and to the symbol '#'\n     *\n     * @namespace history.location\n     */\n    \"search\": isSupportHistoryAPI ? null : {\n      get: function() {\n        return parseURL()._search;\n      }\n    },\n    /**\n     * Returns the current page's hash\n     * string, beginning with the character\n     * '#' and to the end line\n     *\n     * @namespace history.location\n     */\n    \"hash\": isSupportHistoryAPI ? null : {\n      set: function(value) {\n        changeState(null, ('' + value).replace(/^(#|)/, '#'), false, lastURL);\n      },\n      get: function() {\n        return parseURL()._hash;\n      }\n    }\n  };\n\n  /**\n   * Just empty function\n   *\n   * @return void\n   */\n  function emptyFunction() {\n    // dummy\n  }\n\n  /**\n   * Prepares a parts of the current or specified reference for later use in the library\n   *\n   * @param {string} [href]\n   * @param {boolean} [isWindowLocation]\n   * @param {boolean} [isNotAPI]\n   * @return {Object}\n   */\n  function parseURL(href, isWindowLocation, isNotAPI) {\n    var re = /(?:([a-zA-Z0-9\\-]+\\:))?(?:\\/\\/(?:[^@]*@)?([^\\/:\\?#]+)(?::([0-9]+))?)?([^\\?#]*)(?:(\\?[^#]+)|\\?)?(?:(#.*))?/;\n    if (href != null && href !== '' && !isWindowLocation) {\n      var current = parseURL(),\n          base = document.getElementsByTagName('base')[0];\n      if (!isNotAPI && base && base.getAttribute('href')) {\n        // Fix for IE ignoring relative base tags.\n        // See http://stackoverflow.com/questions/3926197/html-base-tag-and-local-folder-path-with-internet-explorer\n        base.href = base.href;\n        current = parseURL(base.href, null, true);\n      }\n      var _pathname = current._pathname, _protocol = current._protocol;\n      // convert to type of string\n      href = '' + href;\n      // convert relative link to the absolute\n      href = /^(?:\\w+\\:)?\\/\\//.test(href) ? href.indexOf(\"/\") === 0\n        ? _protocol + href : href : _protocol + \"//\" + current._host + (\n        href.indexOf(\"/\") === 0 ? href : href.indexOf(\"?\") === 0\n          ? _pathname + href : href.indexOf(\"#\") === 0\n          ? _pathname + current._search + href : _pathname.replace(/[^\\/]+$/g, '') + href\n        );\n    } else {\n      href = isWindowLocation ? href : windowLocation.href;\n      // if current browser not support History-API\n      if (!isSupportHistoryAPI || isNotAPI) {\n        // get hash fragment\n        href = href.replace(/^[^#]*/, '') || \"#\";\n        // form the absolute link from the hash\n        // https://github.com/devote/HTML5-History-API/issues/50\n        href = windowLocation.protocol.replace(/:.*$|$/, ':') + '//' + windowLocation.host + settings['basepath']\n          + href.replace(new RegExp(\"^#[\\/]?(?:\" + settings[\"type\"] + \")?\"), \"\");\n      }\n    }\n    // that would get rid of the links of the form: /../../\n    anchorElement.href = href;\n    // decompose the link in parts\n    var result = re.exec(anchorElement.href);\n    // host name with the port number\n    var host = result[2] + (result[3] ? ':' + result[3] : '');\n    // folder\n    var pathname = result[4] || '/';\n    // the query string\n    var search = result[5] || '';\n    // hash\n    var hash = result[6] === '#' ? '' : (result[6] || '');\n    // relative link, no protocol, no host\n    var relative = pathname + search + hash;\n    // special links for set to hash-link, if browser not support History API\n    var nohash = pathname.replace(new RegExp(\"^\" + settings[\"basepath\"], \"i\"), settings[\"type\"]) + search;\n    // result\n    return {\n      _href: result[1] + '//' + host + relative,\n      _protocol: result[1],\n      _host: host,\n      _hostname: result[2],\n      _port: result[3] || '',\n      _pathname: pathname,\n      _search: search,\n      _hash: hash,\n      _relative: relative,\n      _nohash: nohash,\n      _special: nohash + hash\n    }\n  }\n\n  /**\n   * Detect HistoryAPI support while taking into account false positives.\n   * Based on https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n   */\n  function isSupportHistoryAPIDetect(){\n    var ua = global.navigator.userAgent;\n    // We only want Android 2 and 4.0, stock browser, and not Chrome which identifies\n    // itself as 'Mobile Safari' as well, nor Windows Phone (issue #1471).\n    if ((ua.indexOf('Android 2.') !== -1 ||\n      (ua.indexOf('Android 4.0') !== -1)) &&\n      ua.indexOf('Mobile Safari') !== -1 &&\n      ua.indexOf('Chrome') === -1 &&\n      ua.indexOf('Windows Phone') === -1)\n    {\n      return false;\n    }\n    // Return the regular check\n    return !!historyPushState;\n  }\n\n  /**\n   * Initializing storage for the custom state's object\n   */\n  function storageInitialize() {\n    var sessionStorage;\n    /**\n     * sessionStorage throws error when cookies are disabled\n     * Chrome content settings when running the site in a Facebook IFrame.\n     * see: https://github.com/devote/HTML5-History-API/issues/34\n     * and: http://stackoverflow.com/a/12976988/669360\n     */\n    try {\n      sessionStorage = global['sessionStorage'];\n      sessionStorage.setItem(sessionStorageKey + 't', '1');\n      sessionStorage.removeItem(sessionStorageKey + 't');\n    } catch(_e_) {\n      sessionStorage = {\n        getItem: function(key) {\n          var cookie = document.cookie.split(key + \"=\");\n          return cookie.length > 1 && cookie.pop().split(\";\").shift() || 'null';\n        },\n        setItem: function(key, value) {\n          var state = {};\n          // insert one current element to cookie\n          if (state[windowLocation.href] = historyObject.state) {\n            document.cookie = key + '=' + JSON.stringify(state);\n          }\n        }\n      }\n    }\n\n    try {\n      // get cache from the storage in browser\n      stateStorage = JSON.parse(sessionStorage.getItem(sessionStorageKey)) || {};\n    } catch(_e_) {\n      stateStorage = {};\n    }\n\n    // hang up the event handler to event unload page\n    addEvent(eventNamePrefix + 'unload', function() {\n      // save current state's object\n      sessionStorage.setItem(sessionStorageKey, JSON.stringify(stateStorage));\n    }, false);\n  }\n\n  /**\n   * This method is implemented to override the built-in(native)\n   * properties in the browser, unfortunately some browsers are\n   * not allowed to override all the properties and even add.\n   * For this reason, this was written by a method that tries to\n   * do everything necessary to get the desired result.\n   *\n   * @param {Object} object The object in which will be overridden/added property\n   * @param {String} prop The property name to be overridden/added\n   * @param {Object} [descriptor] An object containing properties set/get\n   * @param {Function} [onWrapped] The function to be called when the wrapper is created\n   * @return {Object|Boolean} Returns an object on success, otherwise returns false\n   */\n  function redefineProperty(object, prop, descriptor, onWrapped) {\n    var testOnly = 0;\n    // test only if descriptor is undefined\n    if (!descriptor) {\n      descriptor = {set: emptyFunction};\n      testOnly = 1;\n    }\n    // variable will have a value of true the success of attempts to set descriptors\n    var isDefinedSetter = !descriptor.set;\n    var isDefinedGetter = !descriptor.get;\n    // for tests of attempts to set descriptors\n    var test = {configurable: true, set: function() {\n      isDefinedSetter = 1;\n    }, get: function() {\n      isDefinedGetter = 1;\n    }};\n\n    try {\n      // testing for the possibility of overriding/adding properties\n      defineProperty(object, prop, test);\n      // running the test\n      object[prop] = object[prop];\n      // attempt to override property using the standard method\n      defineProperty(object, prop, descriptor);\n    } catch(_e_) {\n    }\n\n    // If the variable 'isDefined' has a false value, it means that need to try other methods\n    if (!isDefinedSetter || !isDefinedGetter) {\n      // try to override/add the property, using deprecated functions\n      if (object.__defineGetter__) {\n        // testing for the possibility of overriding/adding properties\n        object.__defineGetter__(prop, test.get);\n        object.__defineSetter__(prop, test.set);\n        // running the test\n        object[prop] = object[prop];\n        // attempt to override property using the deprecated functions\n        descriptor.get && object.__defineGetter__(prop, descriptor.get);\n        descriptor.set && object.__defineSetter__(prop, descriptor.set);\n      }\n\n      // Browser refused to override the property, using the standard and deprecated methods\n      if (!isDefinedSetter || !isDefinedGetter) {\n        if (testOnly) {\n          return false;\n        } else if (object === global) {\n          // try override global properties\n          try {\n            // save original value from this property\n            var originalValue = object[prop];\n            // set null to built-in(native) property\n            object[prop] = null;\n          } catch(_e_) {\n          }\n          // This rule for Internet Explorer 8\n          if ('execScript' in global) {\n            /**\n             * to IE8 override the global properties using\n             * VBScript, declaring it in global scope with\n             * the same names.\n             */\n            global['execScript']('Public ' + prop, 'VBScript');\n            global['execScript']('var ' + prop + ';', 'JavaScript');\n          } else {\n            try {\n              /**\n               * This hack allows to override a property\n               * with the set 'configurable: false', working\n               * in the hack 'Safari' to 'Mac'\n               */\n              defineProperty(object, prop, {value: emptyFunction});\n            } catch(_e_) {\n              if (prop === 'onpopstate') {\n                /**\n                 * window.onpopstate fires twice in Safari 8.0.\n                 * Block initial event on window.onpopstate\n                 * See: https://github.com/devote/HTML5-History-API/issues/69\n                 */\n                addEvent('popstate', descriptor = function() {\n                  removeEvent('popstate', descriptor, false);\n                  var onpopstate = object.onpopstate;\n                  // cancel initial event on attribute handler\n                  object.onpopstate = null;\n                  setTimeout(function() {\n                    // restore attribute value after short time\n                    object.onpopstate = onpopstate;\n                  }, 1);\n                }, false);\n                // cancel trigger events on attributes in object the window\n                triggerEventsInWindowAttributes = 0;\n              }\n            }\n          }\n          // set old value to new variable\n          object[prop] = originalValue;\n\n        } else {\n          // the last stage of trying to override the property\n          try {\n            try {\n              // wrap the object in a new empty object\n              var temp = Object.create(object);\n              defineProperty(Object.getPrototypeOf(temp) === object ? temp : object, prop, descriptor);\n              for(var key in object) {\n                // need to bind a function to the original object\n                if (typeof object[key] === 'function') {\n                  temp[key] = object[key].bind(object);\n                }\n              }\n              try {\n                // to run a function that will inform about what the object was to wrapped\n                onWrapped.call(temp, temp, object);\n              } catch(_e_) {\n              }\n              object = temp;\n            } catch(_e_) {\n              // sometimes works override simply by assigning the prototype property of the constructor\n              defineProperty(object.constructor.prototype, prop, descriptor);\n            }\n          } catch(_e_) {\n            // all methods have failed\n            return false;\n          }\n        }\n      }\n    }\n\n    return object;\n  }\n\n  /**\n   * Adds the missing property in descriptor\n   *\n   * @param {Object} object An object that stores values\n   * @param {String} prop Name of the property in the object\n   * @param {Object|null} descriptor Descriptor\n   * @return {Object} Returns the generated descriptor\n   */\n  function prepareDescriptorsForObject(object, prop, descriptor) {\n    descriptor = descriptor || {};\n    // the default for the object 'location' is the standard object 'window.location'\n    object = object === locationDescriptors ? windowLocation : object;\n    // setter for object properties\n    descriptor.set = (descriptor.set || function(value) {\n      object[prop] = value;\n    });\n    // getter for object properties\n    descriptor.get = (descriptor.get || function() {\n      return object[prop];\n    });\n    return descriptor;\n  }\n\n  /**\n   * Wrapper for the methods 'addEventListener/attachEvent' in the context of the 'window'\n   *\n   * @param {String} event The event type for which the user is registering\n   * @param {Function} listener The method to be called when the event occurs.\n   * @param {Boolean} capture If true, capture indicates that the user wishes to initiate capture.\n   * @return void\n   */\n  function addEventListener(event, listener, capture) {\n    if (event in eventsList) {\n      // here stored the event listeners 'popstate/hashchange'\n      eventsList[event].push(listener);\n    } else {\n      // FireFox support non-standart four argument aWantsUntrusted\n      // https://github.com/devote/HTML5-History-API/issues/13\n      if (arguments.length > 3) {\n        addEvent(event, listener, capture, arguments[3]);\n      } else {\n        addEvent(event, listener, capture);\n      }\n    }\n  }\n\n  /**\n   * Wrapper for the methods 'removeEventListener/detachEvent' in the context of the 'window'\n   *\n   * @param {String} event The event type for which the user is registered\n   * @param {Function} listener The parameter indicates the Listener to be removed.\n   * @param {Boolean} capture Was registered as a capturing listener or not.\n   * @return void\n   */\n  function removeEventListener(event, listener, capture) {\n    var list = eventsList[event];\n    if (list) {\n      for(var i = list.length; i--;) {\n        if (list[i] === listener) {\n          list.splice(i, 1);\n          break;\n        }\n      }\n    } else {\n      removeEvent(event, listener, capture);\n    }\n  }\n\n  /**\n   * Wrapper for the methods 'dispatchEvent/fireEvent' in the context of the 'window'\n   *\n   * @param {Event|String} event Instance of Event or event type string if 'eventObject' used\n   * @param {*} [eventObject] For Internet Explorer 8 required event object on this argument\n   * @return {Boolean} If 'preventDefault' was called the value is false, else the value is true.\n   */\n  function dispatchEvent(event, eventObject) {\n    var eventType = ('' + (typeof event === \"string\" ? event : event.type)).replace(/^on/, '');\n    var list = eventsList[eventType];\n    if (list) {\n      // need to understand that there is one object of Event\n      eventObject = typeof event === \"string\" ? eventObject : event;\n      if (eventObject.target == null) {\n        // need to override some of the properties of the Event object\n        for(var props = ['target', 'currentTarget', 'srcElement', 'type']; event = props.pop();) {\n          // use 'redefineProperty' to override the properties\n          eventObject = redefineProperty(eventObject, event, {\n            get: event === 'type' ? function() {\n              return eventType;\n            } : function() {\n              return global;\n            }\n          });\n        }\n      }\n      if (triggerEventsInWindowAttributes) {\n        // run function defined in the attributes 'onpopstate/onhashchange' in the 'window' context\n        ((eventType === 'popstate' ? global.onpopstate : global.onhashchange)\n          || emptyFunction).call(global, eventObject);\n      }\n      // run other functions that are in the list of handlers\n      for(var i = 0, len = list.length; i < len; i++) {\n        list[i].call(global, eventObject);\n      }\n      return true;\n    } else {\n      return dispatch(event, eventObject);\n    }\n  }\n\n  /**\n   * dispatch current state event\n   */\n  function firePopState() {\n    var o = document.createEvent ? document.createEvent('Event') : document.createEventObject();\n    if (o.initEvent) {\n      o.initEvent('popstate', false, false);\n    } else {\n      o.type = 'popstate';\n    }\n    o.state = historyObject.state;\n    // send a newly created events to be processed\n    dispatchEvent(o);\n  }\n\n  /**\n   * fire initial state for non-HTML5 browsers\n   */\n  function fireInitialState() {\n    if (isFireInitialState) {\n      isFireInitialState = false;\n      firePopState();\n    }\n  }\n\n  /**\n   * Change the data of the current history for HTML4 browsers\n   *\n   * @param {Object} state\n   * @param {string} [url]\n   * @param {Boolean} [replace]\n   * @param {string} [lastURLValue]\n   * @return void\n   */\n  function changeState(state, url, replace, lastURLValue) {\n    if (!isSupportHistoryAPI) {\n      // if not used implementation history.location\n      if (isUsedHistoryLocationFlag === 0) isUsedHistoryLocationFlag = 2;\n      // normalization url\n      var urlObject = parseURL(url, isUsedHistoryLocationFlag === 2 && ('' + url).indexOf(\"#\") !== -1);\n      // if current url not equal new url\n      if (urlObject._relative !== parseURL()._relative) {\n        // if empty lastURLValue to skip hash change event\n        lastURL = lastURLValue;\n        if (replace) {\n          // only replace hash, not store to history\n          windowLocation.replace(\"#\" + urlObject._special);\n        } else {\n          // change hash and add new record to history\n          windowLocation.hash = urlObject._special;\n        }\n      }\n    } else {\n      lastURL = windowLocation.href;\n    }\n    if (!isSupportStateObjectInHistory && state) {\n      stateStorage[windowLocation.href] = state;\n    }\n    isFireInitialState = false;\n  }\n\n  /**\n   * Event handler function changes the hash in the address bar\n   *\n   * @param {Event} event\n   * @return void\n   */\n  function onHashChange(event) {\n    // https://github.com/devote/HTML5-History-API/issues/46\n    var fireNow = lastURL;\n    // new value to lastURL\n    lastURL = windowLocation.href;\n    // if not empty fireNow, otherwise skipped the current handler event\n    if (fireNow) {\n      // if checkUrlForPopState equal current url, this means that the event was raised popstate browser\n      if (checkUrlForPopState !== windowLocation.href) {\n        // otherwise,\n        // the browser does not support popstate event or just does not run the event by changing the hash.\n        firePopState();\n      }\n      // current event object\n      event = event || global.event;\n\n      var oldURLObject = parseURL(fireNow, true);\n      var newURLObject = parseURL();\n      // HTML4 browser not support properties oldURL/newURL\n      if (!event.oldURL) {\n        event.oldURL = oldURLObject._href;\n        event.newURL = newURLObject._href;\n      }\n      if (oldURLObject._hash !== newURLObject._hash) {\n        // if current hash not equal previous hash\n        dispatchEvent(event);\n      }\n    }\n  }\n\n  /**\n   * The event handler is fully loaded document\n   *\n   * @param {*} [noScroll]\n   * @return void\n   */\n  function onLoad(noScroll) {\n    // Get rid of the events popstate when the first loading a document in the webkit browsers\n    setTimeout(function() {\n      // hang up the event handler for the built-in popstate event in the browser\n      addEvent('popstate', function(e) {\n        // set the current url, that suppress the creation of the popstate event by changing the hash\n        checkUrlForPopState = windowLocation.href;\n        // for Safari browser in OS Windows not implemented 'state' object in 'History' interface\n        // and not implemented in old HTML4 browsers\n        if (!isSupportStateObjectInHistory) {\n          e = redefineProperty(e, 'state', {get: function() {\n            return historyObject.state;\n          }});\n        }\n        // send events to be processed\n        dispatchEvent(e);\n      }, false);\n    }, 0);\n    // for non-HTML5 browsers\n    if (!isSupportHistoryAPI && noScroll !== true && \"location\" in historyObject) {\n      // scroll window to anchor element\n      scrollToAnchorId(locationObject.hash);\n      // fire initial state for non-HTML5 browser after load page\n      fireInitialState();\n    }\n  }\n\n  /**\n   * Finds the closest ancestor anchor element (including the target itself).\n   *\n   * @param {HTMLElement} target The element to start scanning from.\n   * @return {HTMLElement} An element which is the closest ancestor anchor.\n   */\n  function anchorTarget(target) {\n    while (target) {\n      if (target.nodeName === 'A') return target;\n      target = target.parentNode;\n    }\n  }\n\n  /**\n   * Handles anchor elements with a hash fragment for non-HTML5 browsers\n   *\n   * @param {Event} e\n   */\n  function onAnchorClick(e) {\n    var event = e || global.event;\n    var target = anchorTarget(event.target || event.srcElement);\n    var defaultPrevented = \"defaultPrevented\" in event ? event['defaultPrevented'] : event.returnValue === false;\n    if (target && target.nodeName === \"A\" && !defaultPrevented) {\n      var current = parseURL();\n      var expect = parseURL(target.getAttribute(\"href\", 2));\n      var isEqualBaseURL = current._href.split('#').shift() === expect._href.split('#').shift();\n      if (isEqualBaseURL && expect._hash) {\n        if (current._hash !== expect._hash) {\n          locationObject.hash = expect._hash;\n        }\n        scrollToAnchorId(expect._hash);\n        if (event.preventDefault) {\n          event.preventDefault();\n        } else {\n          event.returnValue = false;\n        }\n      }\n    }\n  }\n\n  /**\n   * Scroll page to current anchor in url-hash\n   *\n   * @param hash\n   */\n  function scrollToAnchorId(hash) {\n    var target = document.getElementById(hash = (hash || '').replace(/^#/, ''));\n    if (target && target.id === hash && target.nodeName === \"A\") {\n      var rect = target.getBoundingClientRect();\n      global.scrollTo((documentElement.scrollLeft || 0), rect.top + (documentElement.scrollTop || 0)\n        - (documentElement.clientTop || 0));\n    }\n  }\n\n  /**\n   * Library initialization\n   *\n   * @return {Boolean} return true if all is well, otherwise return false value\n   */\n  function initialize() {\n    /**\n     * Get custom settings from the query string\n     */\n    var scripts = document.getElementsByTagName('script');\n    var src = (scripts[scripts.length - 1] || {}).src || '';\n    var arg = src.indexOf('?') !== -1 ? src.split('?').pop() : '';\n    arg.replace(/(\\w+)(?:=([^&]*))?/g, function(a, key, value) {\n      settings[key] = (value || '').replace(/^(0|false)$/, '');\n    });\n\n    /**\n     * hang up the event handler to listen to the events hashchange\n     */\n    addEvent(eventNamePrefix + 'hashchange', onHashChange, false);\n\n    // a list of objects with pairs of descriptors/object\n    var data = [locationDescriptors, locationObject, eventsDescriptors, global, historyDescriptors, historyObject];\n\n    // if browser support object 'state' in interface 'History'\n    if (isSupportStateObjectInHistory) {\n      // remove state property from descriptor\n      delete historyDescriptors['state'];\n    }\n\n    // initializing descriptors\n    for(var i = 0; i < data.length; i += 2) {\n      for(var prop in data[i]) {\n        if (data[i].hasOwnProperty(prop)) {\n          if (typeof data[i][prop] !== 'object') {\n            // If the descriptor is a simple function, simply just assign it an object\n            data[i + 1][prop] = data[i][prop];\n          } else {\n            // prepare the descriptor the required format\n            var descriptor = prepareDescriptorsForObject(data[i], prop, data[i][prop]);\n            // try to set the descriptor object\n            if (!redefineProperty(data[i + 1], prop, descriptor, function(n, o) {\n              // is satisfied if the failed override property\n              if (o === historyObject) {\n                // the problem occurs in Safari on the Mac\n                global.history = historyObject = data[i + 1] = n;\n              }\n            })) {\n              // if there is no possibility override.\n              // This browser does not support descriptors, such as IE7\n\n              // remove previously hung event handlers\n              removeEvent(eventNamePrefix + 'hashchange', onHashChange, false);\n\n              // fail to initialize :(\n              return false;\n            }\n\n            // create a repository for custom handlers onpopstate/onhashchange\n            if (data[i + 1] === global) {\n              eventsList[prop] = eventsList[prop.substr(2)] = [];\n            }\n          }\n        }\n      }\n    }\n\n    // check settings\n    historyObject['setup']();\n\n    // redirect if necessary\n    if (settings['redirect']) {\n      historyObject['redirect']();\n    }\n\n    // initialize\n    if (settings[\"init\"]) {\n      // You agree that you will use window.history.location instead window.location\n      isUsedHistoryLocationFlag = 1;\n    }\n\n    // If browser does not support object 'state' in interface 'History'\n    if (!isSupportStateObjectInHistory && JSON) {\n      storageInitialize();\n    }\n\n    // track clicks on anchors\n    if (!isSupportHistoryAPI) {\n      document[addEventListenerName](eventNamePrefix + \"click\", onAnchorClick, false);\n    }\n\n    if (document.readyState === 'complete') {\n      onLoad(true);\n    } else {\n      if (!isSupportHistoryAPI && parseURL()._relative !== settings[\"basepath\"]) {\n        isFireInitialState = true;\n      }\n      /**\n       * Need to avoid triggering events popstate the initial page load.\n       * Hang handler popstate as will be fully loaded document that\n       * would prevent triggering event onpopstate\n       */\n      addEvent(eventNamePrefix + 'load', onLoad, false);\n    }\n\n    // everything went well\n    return true;\n  }\n\n  /**\n   * Starting the library\n   */\n  if (!initialize()) {\n    // if unable to initialize descriptors\n    // therefore quite old browser and there\n    // is no sense to continue to perform\n    return;\n  }\n\n  /**\n   * If the property history.emulate will be true,\n   * this will be talking about what's going on\n   * emulation capabilities HTML5-History-API.\n   * Otherwise there is no emulation, ie the\n   * built-in browser capabilities.\n   *\n   * @type {boolean}\n   * @const\n   */\n  historyObject['emulate'] = !isSupportHistoryAPI;\n\n  /**\n   * Replace the original methods on the wrapper\n   */\n  global[addEventListenerName] = addEventListener;\n  global[removeEventListenerName] = removeEventListener;\n  global[dispatchEventName] = dispatchEvent;\n\n  return historyObject;\n});\n","/*!\n * jQuery Mousewheel 3.1.13\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n */\n\n(function (factory) {\n    if ( typeof define === 'function' && define.amd ) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if (typeof exports === 'object') {\n        // Node/CommonJS style for Browserify\n        module.exports = factory;\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n\n    var toFix  = ['wheel', 'mousewheel', 'DOMMouseScroll', 'MozMousePixelScroll'],\n        toBind = ( 'onwheel' in document || document.documentMode >= 9 ) ?\n                    ['wheel'] : ['mousewheel', 'DomMouseScroll', 'MozMousePixelScroll'],\n        slice  = Array.prototype.slice,\n        nullLowestDeltaTimeout, lowestDelta;\n\n    if ( $.event.fixHooks ) {\n        for ( var i = toFix.length; i; ) {\n            $.event.fixHooks[ toFix[--i] ] = $.event.mouseHooks;\n        }\n    }\n\n    var special = $.event.special.mousewheel = {\n        version: '3.1.12',\n\n        setup: function() {\n            if ( this.addEventListener ) {\n                for ( var i = toBind.length; i; ) {\n                    this.addEventListener( toBind[--i], handler, false );\n                }\n            } else {\n                this.onmousewheel = handler;\n            }\n            // Store the line height and page height for this particular element\n            $.data(this, 'mousewheel-line-height', special.getLineHeight(this));\n            $.data(this, 'mousewheel-page-height', special.getPageHeight(this));\n        },\n\n        teardown: function() {\n            if ( this.removeEventListener ) {\n                for ( var i = toBind.length; i; ) {\n                    this.removeEventListener( toBind[--i], handler, false );\n                }\n            } else {\n                this.onmousewheel = null;\n            }\n            // Clean up the data we added to the element\n            $.removeData(this, 'mousewheel-line-height');\n            $.removeData(this, 'mousewheel-page-height');\n        },\n\n        getLineHeight: function(elem) {\n            var $elem = $(elem),\n                $parent = $elem['offsetParent' in $.fn ? 'offsetParent' : 'parent']();\n            if (!$parent.length) {\n                $parent = $('body');\n            }\n            return parseInt($parent.css('fontSize'), 10) || parseInt($elem.css('fontSize'), 10) || 16;\n        },\n\n        getPageHeight: function(elem) {\n            return $(elem).height();\n        },\n\n        settings: {\n            adjustOldDeltas: true, // see shouldAdjustOldDeltas() below\n            normalizeOffset: true  // calls getBoundingClientRect for each event\n        }\n    };\n\n    $.fn.extend({\n        mousewheel: function(fn) {\n            return fn ? this.bind('mousewheel', fn) : this.trigger('mousewheel');\n        },\n\n        unmousewheel: function(fn) {\n            return this.unbind('mousewheel', fn);\n        }\n    });\n\n\n    function handler(event) {\n        var orgEvent   = event || window.event,\n            args       = slice.call(arguments, 1),\n            delta      = 0,\n            deltaX     = 0,\n            deltaY     = 0,\n            absDelta   = 0,\n            offsetX    = 0,\n            offsetY    = 0;\n        event = $.event.fix(orgEvent);\n        event.type = 'mousewheel';\n\n        // Old school scrollwheel delta\n        if ( 'detail'      in orgEvent ) { deltaY = orgEvent.detail * -1;      }\n        if ( 'wheelDelta'  in orgEvent ) { deltaY = orgEvent.wheelDelta;       }\n        if ( 'wheelDeltaY' in orgEvent ) { deltaY = orgEvent.wheelDeltaY;      }\n        if ( 'wheelDeltaX' in orgEvent ) { deltaX = orgEvent.wheelDeltaX * -1; }\n\n        // Firefox < 17 horizontal scrolling related to DOMMouseScroll event\n        if ( 'axis' in orgEvent && orgEvent.axis === orgEvent.HORIZONTAL_AXIS ) {\n            deltaX = deltaY * -1;\n            deltaY = 0;\n        }\n\n        // Set delta to be deltaY or deltaX if deltaY is 0 for backwards compatabilitiy\n        delta = deltaY === 0 ? deltaX : deltaY;\n\n        // New school wheel delta (wheel event)\n        if ( 'deltaY' in orgEvent ) {\n            deltaY = orgEvent.deltaY * -1;\n            delta  = deltaY;\n        }\n        if ( 'deltaX' in orgEvent ) {\n            deltaX = orgEvent.deltaX;\n            if ( deltaY === 0 ) { delta  = deltaX * -1; }\n        }\n\n        // No change actually happened, no reason to go any further\n        if ( deltaY === 0 && deltaX === 0 ) { return; }\n\n        // Need to convert lines and pages to pixels if we aren't already in pixels\n        // There are three delta modes:\n        //   * deltaMode 0 is by pixels, nothing to do\n        //   * deltaMode 1 is by lines\n        //   * deltaMode 2 is by pages\n        if ( orgEvent.deltaMode === 1 ) {\n            var lineHeight = $.data(this, 'mousewheel-line-height');\n            delta  *= lineHeight;\n            deltaY *= lineHeight;\n            deltaX *= lineHeight;\n        } else if ( orgEvent.deltaMode === 2 ) {\n            var pageHeight = $.data(this, 'mousewheel-page-height');\n            delta  *= pageHeight;\n            deltaY *= pageHeight;\n            deltaX *= pageHeight;\n        }\n\n        // Store lowest absolute delta to normalize the delta values\n        absDelta = Math.max( Math.abs(deltaY), Math.abs(deltaX) );\n\n        if ( !lowestDelta || absDelta < lowestDelta ) {\n            lowestDelta = absDelta;\n\n            // Adjust older deltas if necessary\n            if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {\n                lowestDelta /= 40;\n            }\n        }\n\n        // Adjust older deltas if necessary\n        if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {\n            // Divide all the things by 40!\n            delta  /= 40;\n            deltaX /= 40;\n            deltaY /= 40;\n        }\n\n        // Get a whole, normalized value for the deltas\n        delta  = Math[ delta  >= 1 ? 'floor' : 'ceil' ](delta  / lowestDelta);\n        deltaX = Math[ deltaX >= 1 ? 'floor' : 'ceil' ](deltaX / lowestDelta);\n        deltaY = Math[ deltaY >= 1 ? 'floor' : 'ceil' ](deltaY / lowestDelta);\n\n        // Normalise offsetX and offsetY properties\n        if ( special.settings.normalizeOffset && this.getBoundingClientRect ) {\n            var boundingRect = this.getBoundingClientRect();\n            offsetX = event.clientX - boundingRect.left;\n            offsetY = event.clientY - boundingRect.top;\n        }\n\n        // Add information to the event object\n        event.deltaX = deltaX;\n        event.deltaY = deltaY;\n        event.deltaFactor = lowestDelta;\n        event.offsetX = offsetX;\n        event.offsetY = offsetY;\n        // Go ahead and set deltaMode to 0 since we converted to pixels\n        // Although this is a little odd since we overwrite the deltaX/Y\n        // properties with normalized deltas.\n        event.deltaMode = 0;\n\n        // Add event and delta to the front of the arguments\n        args.unshift(event, delta, deltaX, deltaY);\n\n        // Clearout lowestDelta after sometime to better\n        // handle multiple device types that give different\n        // a different lowestDelta\n        // Ex: trackpad = 3 and mouse wheel = 120\n        if (nullLowestDeltaTimeout) { clearTimeout(nullLowestDeltaTimeout); }\n        nullLowestDeltaTimeout = setTimeout(nullLowestDelta, 200);\n\n        return ($.event.dispatch || $.event.handle).apply(this, args);\n    }\n\n    function nullLowestDelta() {\n        lowestDelta = null;\n    }\n\n    function shouldAdjustOldDeltas(orgEvent, absDelta) {\n        // If this is an older event and the delta is divisable by 120,\n        // then we are assuming that the browser is treating this as an\n        // older mouse wheel event and that we should divide the deltas\n        // by 40 to try and get a more usable deltaFactor.\n        // Side note, this actually impacts the reported scroll distance\n        // in older browsers and can cause scrolling to be slower than native.\n        // Turn this off by setting $.event.special.mousewheel.settings.adjustOldDeltas to false.\n        return special.settings.adjustOldDeltas && orgEvent.type === 'mousewheel' && absDelta % 120 === 0;\n    }\n\n}));\n","/* globals document */\n/**\n * Finds all elements with a \"data-module-init\" attribute\n * and calls the corresponding script\n */\n\nfunction initializeModules() {\n  var modules = document.querySelectorAll( \"[data-module-init]\" );\n\n  for ( var i = 0; i < modules.length; i++ ) {\n    var el = modules[ i ];\n    var names = el.getAttribute( \"data-module-init\" ).split( \" \" );\n    var Module;\n\n    for ( var j = 0; j < names.length; j++ ) {\n      try {\n        Module = require( \"modules/\" + names[ j ] );\n      } catch ( e ) {\n        Module = false;\n        console.log( names[ j ] + \" module does not exist.\" );\n      }\n\n      // Initialize the module with the calling element\n      if ( Module ) {\n        new Module( el );\n      }\n    }\n  }\n}\n\nmodule.exports = initializeModules;\n","var initializeModules = require( \"./lib/init-modules.js\" );\n\nif ( document.readyState !== \"loading\" ) {\n\tinitializeModules();\n} else {\n\tdocument.addEventListener( \"DOMContentLoaded\", initializeModules );\n}\n\n\n","var barbajs = require( \"barba.js\" );\n\n\nvar barba = module.exports = {\n\ninit: function(){\n\t\n\tbarbajs.Pjax.start();\n\tconsole.log('barba init')\n\t\n\tbarbajs.Dispatcher.on('newPageReady', function(currentStatus, oldStatus, container) {\n\t\tbarba.setBodyClass();\n\t\tbarba.initModules();\n\t});\n\t\n\tvar FadeTransition = barbajs.BaseTransition.extend({\n\t  start: function() {\n\t    /**\n\t     * This function is automatically called as soon the Transition starts\n\t     * this.newContainerLoading is a Promise for the loading of the new container\n\t     * (Barba.js also comes with an handy Promise polyfill!)\n\t     */\n\n\t    // As soon the loading is finished and the old page is faded out, let's fade the new page\n\t    Promise\n\t      .all([this.newContainerLoading, this.fadeOut()])\n\t      .then(this.fadeIn.bind(this));\n\t  },\n\n\t  fadeOut: function() {\n\t    /**\n\t     * this.oldContainer is the HTMLElement of the old Container\n\t     */\n\n\t    return $(this.oldContainer).animate({ opacity: 0 }).promise();\n\t  },\n\n\t  fadeIn: function() {\n\t    /**\n\t     * this.newContainer is the HTMLElement of the new Container\n\t     * At this stage newContainer is on the DOM (inside our #barba-container and with visibility: hidden)\n\t     * Please note, newContainer is available just after newContainerLoading is resolved!\n\t     */\n\n\t    var _this = this;\n\t    var $el = $(this.newContainer);\n\n\t    $(this.oldContainer).hide();\n\n\t    $el.css({\n\t      visibility : 'visible',\n\t      opacity : 0\n\t    });\n\n\t    $el.animate({ opacity: 1 }, 400, function() {\n\t      /**\n\t       * Do not forget to call .done() as soon your transition is finished!\n\t       * .done() will automatically remove from the DOM the old Container\n\t       */\n\n\t      _this.done();\n\t    });\n\t  }\n\t});\n\n\t/**\n\t * Next step, you have to tell Barba to use the new Transition\n\t */\n\n\tbarbajs.Pjax.getTransition = function() {\n\t  /**\n\t   * Here you can use your own logic!\n\t   * For example you can use different Transition based on the current page or link...\n\t   */\n\n\t  return FadeTransition;\n\t};\n\t\n},\n\nsetBodyClass: function(){\n\tvar page_class = $('.page-template').last().data('template');\n\t\n\t$('body').removeClass().addClass(page_class);\n},\n\ninitModules: function(){\n    var modules = $('#barba-wrapper').find( \"[data-module-init]\" );\n\n    for ( var i = 0; i < modules.length; i++ ) {\n      var el = modules[ i ];\n      var names = el.getAttribute( \"data-module-init\" ).split( \" \" );\n      var Module;\n\n      for ( var j = 0; j < names.length; j++ ) {\n  \t      try {\n  \t        Module = require( \"modules/\" + names[ j ] );\n  \t      } catch ( e ) {\n  \t        Module = false;\n  \t        console.log( names[ j ] + \" module does not exist.\" );\n  \t      }\n\n        // Initialize the module with the calling element\n        if ( Module ) {\n          new Module( el );\n        }\n      }\n    }\n   \n}\n\n\n\t\n};\n","var settings = require( \"modules/settings\" ),\n\tscrollContainers = require(\"modules/scrollContainers\"),\n\tcart = require(\"modules/cart\"),\n\tmenu = require(\"modules/menu\");\n\n\t\nmodule.exports = function( el ) {\n\t\tvar $el = $( el ),\n\t\t$window = $( window ),\n\t\tresizeTimer;\n \n \n \t    init();\n \n\t\tfunction init(){\n\t\t\t\n\t\t\t//barba.init();\n\t\t\tscrollContainers.init();\n\t\t\tcart.init();\n\t\t\tmenu.init();\n\t\t\t\n\t\t\t$window.on('resize', winResize);\n\t\t}\n\t\t\n\t\tfunction animOff(){\n\t\t\t$('body').addClass('noTransition');\n\t\t}\n\t\t\n\t\tfunction animOn(){\n\t\t\t$('body').removeClass('noTransition');\n\t\t}\n\t\t\n\t\tfunction winResizeEnd(){\n\t\t\tanimOn();\n\t\t}\n\t\t\n\t\tfunction winResize(){\n\t\t\tclearTimeout(resizeTimer);\n\t\t\tanimOff();\n\t\t\t\n\t\t\tresizeTimer = setTimeout(function(){\n\t\t\t\twinResizeEnd();\n\t\t\t}, 300);\n\t\t} \n\t\t\n};\n  ","var settings = require(\"modules/settings\");\n\nvar cart = module.exports = {\n\t\t$window: $( window ),\n \t   \n\t\tinit:function(){\n\t\t\tconsole.log('%c [cart.init]', 'color:blue');\n\t\t\t\n\t\t\t$('.cart-link').on('click', cart.toggleCart);\n\t\t},\n\t\t\n\t\ttoggleCart:function(e){\n\t\t\te.preventDefault();\n\t\t\t$('body').toggleClass('cart-open');\n\t\t},\n\t\t\n\t\thideCart:function(){\n\t\t\t\n\t\t\tif($('body').hasClass('cart-open')) {\n\t\t\t\t$('body').removeClass('cart-open');\n\t\t\t}\n\t\t\t\n\t\t}\n};\n  ","var scrollContainers = require(\"modules/scrollContainers\"),\n\tsettings = require(\"modules/settings\"),\n\tHTMLhistory = require(\"html5-history-api\"),\n\tcart = require(\"modules/cart\");\n\n\nvar menu = module.exports = {\n\t\t$window: $( window ),\n\t\tcurrentArticle:'about',\n\t\tisScrolling: false,\n\t\tlocation: window.history.location || window.location,\n \t   \n\t\tinit: function(){\n\t\t\tconsole.log('%c [menu.init]', 'color:blue');\n\t\t\t$('.home-link').on('click', menu.homeLinkClick);\n\t\t\t$('.menu-item a').on('click', menu.menuLinkClick); \n\t\t\t\n\t\t\t$('#left-panel .main').on('scroll', menu.leftPanelScroll);\n\t\t\t\n\t\t\t$(window).on('popstate', function(e) {\n\n\t          // here can cause data loading, etc.\n\n\t          // just post\n\t\t\t    console.log(location.href)\n\t\t\t\tsettings.isScrolling = true;\n\t\t\t\t\n\t\t\t\tif(location.href != '/'){\n\t\t\t\t\t$('.menu-item a').each(function(){\n\t\t\t\t\t\tif($(this).attr('href') == location.href) {\n\t\t\t\t\t\t\tvar page = $(this).data('page');\n\t\t\t\t\t\t\tmenu.setCurrentMenuItem(page);\n\t\t\t\t\t\t\tscrollContainers.scrollTo(page);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tmenu.setCurrentMenuItem('about');\n\t\t\t\t\tscrollContainers.scrollTo('about');\n\t\t\t\t}\n\t\t\t\t\n\t\t\t  //scrollContainers.scrollTo(location.href);\n\t          //alert(\"We returned to the page with a link: \" + location.href);\n\t        });\n\t\t},\n\t\t\n\t\thomeLinkClick: function(e) {\n\t\t\te.preventDefault();\n\t\t\t//scrollContainers.scrollHome();\n\t\t\t//menu.setCurrentMenuItem('home');\n\t\t\tscrollContainers.scrollTo('about');\n\t\t\tHTMLhistory.pushState(null, null, '/');\n\t\t\tcart.hideCart();\n\t\t},\n\t\t\n\t\tmenuLinkClick: function(e){\n\t\t\te.preventDefault();\n\t\t\tconsole.log('menuLinkClick')\n\t\t\tvar $targ = $(e.currentTarget);\n\t\t\tvar page = $targ.data('page');\n\t\t\t\n\t\t\tsettings.isScrolling = true;\n\t\t\t\n\t\t\tmenu.setCurrentMenuItem(page);\n\t\t\tscrollContainers.scrollTo(page);\n\t\t\t\n\t\t\tconsole.log($targ.attr('href'));\n\t\t\t\n\t\t\tHTMLhistory.pushState(null, null, $targ.attr('href'));\n\t\t\tcart.hideCart();\n\t\t},\n\t\t\n\t\tsetCurrentMenuItem: function(pageName) {\n\t\t\tif(!$('.menu-item a[data-page=\"'+ pageName +'\"]').hasClass('active')) {\n\t\t\t\t$('.menu-item a').removeClass('active');\n\t\t\t\t$('.menu-item a[data-page=\"'+ pageName +'\"]').addClass('active');\n\t\t\t\tif(!settings.isScrolling){\n\t\t\t\t\tconsole.log('pushState')\n\t\t\t\t\tHTMLhistory.pushState(null, null, $('.menu-item a[data-page=\"'+ pageName +'\"]').attr('href'));\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t},\n\t\t\n\t\tscrollListenMenus: function(){\n\t\t\t\n\t\t\t$('#left-panel article').each(function(){\n\t\t\t\t$this = $(this);\n\t\t\t\tif ($('#left-panel .main').scrollTop() > $('#left-panel .main').scrollTop() + $this.position().top - $(window).height()/2) {\n\t\t\t\t\t//console.log($this)\n\t\t\t\t\tmenu.currentArticle = $this.data('page')\n\t\t\t\t}\n\t\t\t})\n\t\t\t\n\t\t\t$('.menu-item a').each(function(){\n\t\t\t\tif($(this).data('page') == menu.currentArticle) {\n\t\t\t\t\tmenu.setCurrentMenuItem($(this).data('page'));\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t//console.log(menu.currentArticle);\n\t\t},\n\t\t\n\t\tleftPanelScroll: function(){\n\t\t\tif (settings.isScrolling) return false;\n\t\t\tmenu.scrollListenMenus();\n\t\t}\n};\n  ","var settings = require( \"modules/settings\" ),\n\tscrollContainers = require(\"modules/scrollContainers\");\n\t\nmodule.exports = function( el ) {\n\t\tvar $el = $( el ),\n\t\t$window = $( window );\n \n \n \t    init();\n \n\t\tfunction init(){\n\t\t\tconsole.log('%c [prints.init]', 'color:blue')\n\t\t\tsetPrints();\n\t\t\tsetPrintContainers();\n\t\t\t\n\t\t\t$(window).on('resize', winPrintsResize);\n\t\t\t$('.close-button').on('click', closeClickPrint);\n\t\t\t$('.print').on('mouseover', printButtonOver).on('mouseout', printButtonOut).on('click', printButtonClick)\n\t\t}\n\t\t\n\t\tfunction printButtonOver(e){\n\t\t\t//var index = $(e.currentTarget).closest('.page-inner-content').index();\n\t\t\t\n\t\t\t//$('#right-panel article[data-page=\"prints\"] .page-inner-content').removeClass('active');\n\t\t\t//$('#right-panel article[data-page=\"prints\"] .page-inner-content').eq(index).addClass('active');\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction printButtonOut(){\n\t\t\t//$('#right-panel article[data-page=\"prints\"] .page-inner-content').removeClass('active');\n\t\t}\n\t\t\n\t\tfunction printButtonClick(e){\n\t\t\tvar index = $(e.currentTarget).closest('.page-inner-content').index();\n\t\t\t\n\t\t\t$('#right-panel article[data-page=\"prints\"] .page-inner-content').removeClass('active').off('click');\n\t\t\t$('#right-panel article[data-page=\"prints\"] .page-inner-content').eq(index).addClass('active').on('click', printContainerClick);\n\t\t\t\n\t\t\tscrollContainers.scrollTo('prints');\n\t\t\t\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction printContainerClick(e) {\n\t\t\tvar targ = $(e.currentTarget);\n\t\t\t\n\t\t\t$('body').toggleClass('print-full-bleed');\n\t\t\t\n\t\t\tif($('body').hasClass('print-full-bleed')){\n\t\t\t\tscrollContainers.scrollTo('prints');\n\t\t\t\t$('#left-panel .main, #right-panel .main').on('scroll', printScroll);\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t$('#left-panel .main, #right-panel .main').off('scroll', printScroll);\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction printScroll(){\n\t\t\t$('#left-panel .main, #right-panel .main').off('scroll', printScroll);\n\t\t\tcloseClickPrint();\n\t\t}\n\t\t\n\t\tfunction closeClickPrint(){\n\t\t\t\n\t\t\t$('body').removeClass('print-full-bleed');\n\t\t\t//$('.close-button').off('click', closeClickPrint);\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction setPrints(){\n\t\t\t$('.print-thumbnail').each(function(){\n\t\t\t\tvar bgImage = $(this).data('bg');\n\t\t\t\tvar index = $(this).closest('.page-inner-content').index()\n\t\t\t\n\t\t\t\t$('#right-panel article[data-page=\"prints\"]').find('.page-inner-content').eq(index).css('background-image', 'url('+ bgImage +')')\n\t\t\t})\n\t\t}\n\t\t\n\t\tfunction setPrintContainers(){\n\t\t\t\n\t\t\t$('#right-panel article[data-page=\"prints\"] .page-inner-content').each(function(){\n\t\t\t\t$(this).css('width', $(window).width() - $('#left-panel').width());\n\t\t\t})\n\t\t\t\n\t\t}\n\t\t\n\t\tfunction winPrintsResize(){\n\t\t\tsetPrintContainers()\n\t\t}\n\t\t\n};\n  ","var mousewheel = require(\"jquery-mousewheel\"),\n\tsettings = require(\"modules/settings\");\n\nvar scrollContainers = module.exports = {\n\t\t$window: $( window ),\n\t\tinitTarget: false,\n\t\t$leftScrollPanel: $('#left-panel .main'),\n\t\t$rightScrollPanel: $('#right-panel .main'),\n \t   \n\t\tinit: function(){\n\t\t\t\n\t\t\tscrollContainers.sizeRightContainers();\n\t\t\tscrollContainers.setRightPanel();\n\t\t\tscrollContainers.setLine();\n\t\t\t\n\t\t\t$(window).on('resize', scrollContainers.winResize);\n\t\t\t\n\t\t\t//console.log('scrollContainers init');\n\t\t\t\n\t\t\t$(window).on('mousewheel', function(e){\n\t\t\t\t\n\t\t\t\tscrollContainers.initTarget = e.target.offsetParent;\n\t\t\t\tif($(e.target).closest('section').attr('id')=='right-panel') {\n\t\t\t\t\t$('#right-panel .main').on( 'scroll', syncLeft);\n\t\t\t\t\t$('#right-panel .main').on('mousewheel', scrollContainers.mouseWheel);\n\t\t\t\t} else {\n\t\t\t\t\t$('#left-panel .main').on( 'scroll', syncRight);\n\t\t\t\t}\n\t\t\t\t$(window).off('mousewheel');\n\t\t\t})\n\t\t\t\n\t\t\t\n\t\t\tvar $divs = $('#left-panel .main, #right-panel .main');\n\t\t\tvar syncLeft = function(e){\n\t\t\t\t//menu.scrollListenMenus();\n\t\t\t\tscrollContainers.moveLine();\n\t\t\t    var $other = $('#left-panel .main'), other = $other.get(0);\n\t\t\t    var percentage = $('#right-panel .main').scrollLeft() / ($('#right-panel .main')[0].scrollWidth - $('#right-panel .main')[0].offsetWidth);\n\t\t\t    var percent = $(window).height()/$(window).width()\n\t\t\t\tother.scrollTop = percent * $('#right-panel .main').scrollLeft()\n\t\t\t\t//other.scrollTop = percentage * (other.scrollHeight - other.offsetHeight);\n\t\t\t    // Firefox workaround. Rebinding without delay isn't enough.\n\t\t\t    //setTimeout( function(){ $other.on('scroll', sync ); },10);\n\t\t\t}\n\t\t\t\n\t\t\tvar syncRight = function(e){\n\t\t\t\t//menu.scrollListenMenus();\n\t\t\t\tscrollContainers.moveLine();\n\t\t\t    var $other = $('#right-panel .main'), other = $other.get(0);\n\t\t\t\t// - $(window).width() - $(window).height() + $('#left-panel').width()/2\n\t\t\t    var percentage = $('#left-panel .main').scrollTop() / ($('#left-panel .main')[0].scrollHeight - $('#left-panel .main')[0].offsetHeight );\n\t\t\t    var percent = $(window).width()/$(window).height()\n\t\t\t\t//console.log(percent)\n\t\t\t\tother.scrollLeft = percent * $('#left-panel .main').scrollTop()\n\t\t\t    // Firefox workaround. Rebinding without delay isn't enough.\n\t\t\t    //setTimeout( function(){ $other.on('scroll', sync ); },10);\n\t\t\t}\n\t\t\t\n\t\t\t$('#right-panel').on('mouseover', function(){\n\t\t\t\t$('#right-panel .main').on( 'scroll', syncLeft);\n\t\t\t\t$('#right-panel .main').on('mousewheel', scrollContainers.mouseWheel);\n\t\t\t}).on('mouseout', function(){\n\t\t\t\t$('#right-panel .main').off( 'scroll', syncLeft);\n\t\t\t\t$('#right-panel .main').off('mousewheel', scrollContainers.mouseWheel);\n\t\t\t});\n\t\t\t\n\t\t\t$('#left-panel').on('mouseover', function(){\n\t\t\t\t$('#left-panel .main').on( 'scroll', syncRight);\n\t\t\t}).on('mouseout', function(){\n\t\t\t\t$('#left-panel .main').off( 'scroll', syncRight);\n\t\t\t});\n\t\t\t\t\n\t\t\t\n\t\t},\n\t\t\n\t\tmouseWheel: function(e) {\n\t\t\t\n\t\t\n\t\t\t\n\t\t\t$('#right-panel .main').scrollLeft( $('#right-panel .main').scrollLeft()-e.deltaY );\n\t\t},\n\t\t\n\t\tsizeRightContainers: function(){\n\t\t\t\n\t\t\t//console.log( 'l-panel article count: ' + $('#left-panel article').length );\n\t\t\t//console.log( 'r-panel article count: ' + $('#right-panel article').length );\n\t\t\t\n\t\t\t$('#left-panel .page-content').each(function(){\n\t\t\t\t\n\t\t\t\t$el = $(this);\n\t\t\t\t$container = $('#right-panel .page-content').eq( $el.index() );\n\t\t\t\t\n\t\t\t\t//if container height is larger than window, then size right panel proportionally\n\t\t\t\tif( $el.height() > $(window).height() ) {\n\t\t\t\t\t\n\t\t\t\t\tvar percentage = $el.height()/$(window).height();\n\t\t\t\t\t//console.log(percentage);\n\t\t\t\t\t$container.css('width', $(window).width() * percentage );\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t});\n\t\t\t\n\t\t\t$('#left-panel .article-content').each(function(){\n\t\t\t\t\n\t\t\t\t$el = $(this);\n\t\t\t\t$container = $('#right-panel .article-content[data-page=\"'+ $el.data('page') +'\"]');\n\t\t\t\t\n\t\t\t\tconsole.log($container);\n\t\t\t\t//if container height is larger than window, then size right panel proportionally\n\t\t\t\tif( $el.height() > $(window).height() ) {\n\t\t\t\t\t\n\t\t\t\t\tvar percentage = $el.height()/$(window).height();\n\t\t\t\t\tconsole.log('article % ' + percentage);\n\t\t\t\t\t$container.css('width', $(window).width() * percentage );\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t});\n\t\t\t\n\t\t},\n\t\t\n\t\tsetRightPanel: function(){\n\t\t\t\n\t\t\t$('.inner-main').css('width', $('#right-panel article').length * $(window).width() );\n\t\t\t\n\t\t\t$('#right-panel article').each(function(){\n\t\t\t\t$el = $(this);\n\t\t\t\tif( $el.index() > 0 ) {\n\t\t\t\t\t$el.css('left', $('#right-panel article').eq($el.index()-1).width() + $('#right-panel article').eq($el.index()-1).position().left);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t});\n\t\t\t\n\t\t\t\n\t\t},\n\t\t\n\t\tsetLine: function(){\n\t\t\t\n\t\t\t//var h = $(window).height();\n\t\t\tvar h = $(window).height();\n\t\t\tvar w = Math.round( h * 2.6187 );\n\t\t\t\n\t\t\t$('.line-img').css('height', h).css('width', w);\n\t\t\t\n\t\t},\n\t\t\n\t\tmoveLine: function(){\n\t\t\t\n\t\t\t//console.log('moveline ')\n\t\t\tvar x = -$('#right-panel .main').scrollLeft();\n\t\t\t//console.log(x);\n\t\t\t\n\t\t    var percentage = $('#right-panel .main').scrollLeft() / ($('#right-panel .main')[0].scrollWidth - $('#right-panel .main')[0].offsetWidth);\n\t\t    x = -(percentage * ($('.line-img').width() - $('#right-panel .page-inner-content').width()) );\n\t\t\t\n\t\t\t$('.line-img').css({\"-webkit-transform\":\"translate(\"+ x +\"px, 0px)\"});​\n\t\t\t\n\t\t},\n\t\t\n\t\tscrollHome: function(){\n\t\t\tscrollContainers.$leftScrollPanel.stop().animate({scrollTop:0}, 400);\n\t\t\t//scrollContainers.$rightScrollPanel.animate({scrollLeft:0}, 400);\n\t\t},\n\t\t\n\t\tscrollTo: function(pageName){\n\t\t\tsettings.page.current = pageName;\n\t\t\tvar $targL = scrollContainers.$leftScrollPanel.find('article[data-page=\"'+ pageName +'\"]')\n\t\t\tscrollContainers.$leftScrollPanel.stop().animate({scrollTop:scrollContainers.$leftScrollPanel.scrollTop() + $targL.position().top}, 400, function(){\n\t\t\t\tsettings.isScrolling = false;\n\t\t\t});\n\t\t},\n\t\t\n\t\t\n\t\twinResize: function(){\n\t\t\tscrollContainers.sizeRightContainers();\n\t\t\tscrollContainers.setRightPanel();\n\t\t\tscrollContainers.setLine();\n\t\t\t\n\t\t\tvar st = scrollContainers.$leftScrollPanel.scrollTop() + scrollContainers.$leftScrollPanel.find('article[data-page=\"'+ settings.page.current +'\"]').position().top;\n\t\t\tscrollContainers.$leftScrollPanel.stop().scrollTop(st);\n\t\t\t\n\t\t\tvar sl = scrollContainers.$rightScrollPanel.scrollLeft() + scrollContainers.$rightScrollPanel.find('article[data-page=\"'+ settings.page.current +'\"]').position().left;\n\t\t\t$('#left-panel .main').trigger('scroll')\n\t\t\t//scrollContainers.$rightScrollPanel.stop().scrollLeft(sl);\n\t\t}\n};\n  ","/**\n * Global settings shared by all modules\n * @type {Object}\n */\n\nwindow.mobileAndTabletcheck = function() {\n  var check = false;\n  (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\n  \n  return check;\n};\n\nvar settings = module.exports = {\n\tbreakpoints: {\n\t\txs: 481,\n\t\ts: 900,\n\t\tm: 1000,\n\t\tml: 999,\n\t\tl: 1281,\n\t\txl: 1441,\n\t\txxl: 1921\n\t},\n\tpadding: {\n\t\ttop: $(window).height() * .04,\n\t\tleft: $(window).width() * .03\n\t},\n\tisScrolling: false,\n\tscrollContainer: 0,\n\tanimationSpeed: 900,\n\tscrollPos: undefined,\n\tanimating: false,\n\tunique: true,\n\ttier: {\n\t\tcurrent: 0,\n\t\ttarget: 1\n\t},\n\tindex: {\n\t\tcurrent: 0,\n\t\ttarget: 1\n\t},\n\tisMobile: mobileAndTabletcheck(),\n\tpage: { \n\t\tcurrent: $('body').data('page'),\n\t\ttarget: ''\n\t},\n\turl: $('.ui-page').data('url') ,\n\timage: {\n\t\tcurrent: 0\n\t}\n};\n\n\n\nsettings.isMobile = settings.isMobile;\nsettings.breakpoints = settings.breakpoints;\nsettings.padding = settings.padding;\nsettings.animationSpeed = settings.animationSpeed;\nsettings.scrollPos = settings.scrollPos;\nsettings.scrollContainer = settings.scrollContainer;\nsettings.animating = settings.animating;\nsettings.page.current = settings.page.current;\nsettings.page.target = settings.page.target;\nsettings.tier.current = settings.tier.current;\nsettings.tier.target = settings.tier.target;\nsettings.index.current = settings.index.current;\nsettings.index.target = settings.index.target;\nsettings.image.current = settings.image.current;\nsettings.unique = settings.unique;\n\n/*\nsettings.breakpoints.header = settings.breakpoints.m;\nsettings.breakpoints.navHover = settings.breakpoints.m;\nsettings.breakpoints.mobile = settings.breakpoints.l;\n*/ "]}